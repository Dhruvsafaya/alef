  delta-max-ids = ${s3.delta.path}"/internal/product-max-ids"


  curio {
    source: [
      "csv-curio-student-source",
      "csv-curio-teacher-source"
    ]
    sink: [
      "parquet-curio-teacher-sink",
      "parquet-curio-student-sink",
      "redshift-curio-teacher-sink",
      "redshift-curio-student-sink"

    ]
  }


  redshift-organisation-dim = ${redshift} {"dbtable": ${redshift-schema}".dim_organisation"}
  redshift-organization-dim = ${redshift} {"dbtable": ${redshift-schema}".dim_organization"}

    parquet-section-mutated-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-school-sectionMutated"}
    parquet-section-state-changed-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-school-sectionStateChanged"}

    parquet-section-mutated-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-school-sectionMutated"}

    transformed-section-created = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-school-sectionCreated"}
    transformed-section-updated = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-school-sectionUpdated"}
    transformed-section-state-enabled = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-school-sectionEnabled"}
    transformed-section-state-disabled = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-school-sectionDisabled"}
    transformed-section-deleted = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-school-sectionDeleted"}

    data-section-mutated-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-school-sectionMutated"}
    data-section-state-changed-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-school-sectionStateChanged"}

    redshift-section-dim = ${redshift} {"dbtable": ${redshift-schema}".dim_section"}
    delta-section-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-section"}

    data-section-mutated-service {
        source: [
            "parquet-section-mutated-source"
        ]
        sink: [
            "data-section-mutated-sink"
        ]
    }

    data-section-state-changed-service {
        source: [
            "parquet-section-state-changed-source"
        ]
        sink: [
            "data-section-state-changed-sink"
        ]
    }

    transform-section-mutated-service {
        source: [
            "parquet-section-mutated-source"
        ]
        sink: [
            "transformed-section-created",
            "transformed-section-updated"
        ]
    }

    transform-section-state-changed-service {
        source: [
            "parquet-section-state-changed-source"
        ]
        sink: [
            "transformed-section-state-enabled",
            "transformed-section-state-disabled",
            "transformed-section-deleted"
        ]
    }

    delta-section-service {
        source: [
            "transformed-section-created",
            "transformed-section-updated",
            "transformed-section-state-enabled",
            "transformed-section-state-disabled",
            "transformed-section-deleted"
        ]
        sink: [
            "delta-section-sink"
        ]
    }

    redshift-section-service {
        source: [
            "transformed-section-created",
            "transformed-section-updated",
            "transformed-section-state-enabled",
            "transformed-section-state-disabled",
            "transformed-section-deleted"
        ]
        sink: [
            "redshift-section-dim"
        ]
    }

  subject-dimension {
    source: [
      "parquet-subject-source"
    ]
    sink: [
      "redshift-subject-dim",
      "parquet-subject-source",
      "delta-subject-sink"
    ]
  }

    parquet-term-week-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-term-created"}
    data-term-week-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-ccl-term-created"}

    transformed-term = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-ccl-term-created"}
    transformed-week = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-ccl-week-created"}

    redshift-term-sink = ${redshift} {"dbtable": ${redshift-schema}".dim_term"}
    redshift-week-sink = ${redshift} {"dbtable": ${redshift-schema}".dim_week"}

    delta-term-sink = ${delta-sink} {"path": ${s3.delta.path}"/"${env}"/alef-term"}
    delta-week-sink = ${delta-sink} {"path": ${s3.delta.path}"/"${env}"/alef-week"}

    data-term-week-service {
        source: [
            "parquet-term-week-source"
        ]
        sink: [
            "data-term-week-sink"
        ]
    }

    transform-term-week {
        source: [
            "parquet-term-week-source"
        ]
        sink: [
            "transformed-term",
            "transformed-week"
        ]
    }

    redshift-term {
        source: [
            "transformed-term"
        ]
        sink: [
            "redshift-term-sink"
        ]
    }

    redshift-week {
        source: [
            "transformed-week"
        ]
        sink: [
            "redshift-week-sink"
        ]
    }

    delta-term {
        source: [
            "transformed-term"
        ]
        sink: [
            "delta-term-sink"
        ]
    }

    delta-week {
        source: [
            "transformed-week"
        ]
        sink: [
            "delta-week-sink"
        ]
    }

  instructional-plan-dimension {
    source: [
      "parquet-ip-published-source",
      "parquet-ip-re-published-source",
      "parquet-ip-deleted-source"
    ]
    sink: [
      "redshift-ip-sink",
      "parquet-ip-published-source",
      "parquet-ip-re-published-source",
      "parquet-ip-deleted-source",
      "delta-ip-sink"
    ]
  }

  parquet-ip-published-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-ip-published"}
  parquet-ip-re-published-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-ip-re-published"}
  parquet-ip-deleted-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-ip-deleted"}
  redshift-ip-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_instructional_plan"}
  delta-ip-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-instructional-plan"}

  student-dimension {
    source: [
      "parquet-student-source",
      "parquet-student-section-updated-source",
      "parquet-students-deleted-source",
      "parquet-student-enable-disable-source",
      "parquet-student-school-grade-move-source",
      "parquet-student-promoted-source",
      "parquet-student-tag-updated-source"
    ]
    sink: [
      "delta-student-sink",
      "redshift-student-rel",
      "redshift-user-rel",
      "parquet-student-source",
      "parquet-student-section-updated-source",
      "parquet-students-deleted-source",
      "parquet-student-enable-disable-source",
      "parquet-student-school-grade-move-source",
      "parquet-student-promoted-source",
      "parquet-student-tag-updated-source"
    ]
  }

  parquet-teacher-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-school-teacherMutated"}
  parquet-teacher-school-moved-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-school-teacher-school-moved"}
  parquet-teacher-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-school-teacherMutated"}
  parquet-teacher-school-moved-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-school-teacher-school-moved"}

  teacher-transform-rel = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-teacher"}
  transform-teacher-rel-user-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-teacher-rel-user"}
  redshift-teacher-rel = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_teacher"}
  delta-teacher-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-teacher"}

  parquet-teacher {
     source: [
       "parquet-teacher-source",
       "parquet-teacher-school-moved-source"
     ]
     sink: [
       "parquet-teacher-sink",
       "parquet-teacher-school-moved-sink"
     ]
  }

  transform-teacher {
      source: [
        "parquet-teacher-source",
        "parquet-teacher-school-moved-source"
      ]
      sink: [
        "teacher-transform-rel"
      ]
    }

  transform-rel-user-teacher {
      source: [
        "parquet-teacher-source"
      ]
      sink: [
         "transform-teacher-rel-user-sink"
      ]
    }

   redshift-rel-user-teacher {
     source: [
       "transform-teacher-rel-user-sink"
     ]
     sink: [
       "redshift-user-rel"
     ]
   }

   redshift-teacher {
     source: [
       "teacher-transform-rel"
     ]
     sink: [
       "redshift-teacher-rel"
     ]
   }

   delta-teacher {
     source: [
       "teacher-transform-rel"
     ]
     sink: [
        "delta-teacher-sink"
     ]
   }

  #-------Dim Guardian-------
  parquet-guardian-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-school-guardianInvitedRegistered"}
  parquet-guardian-associations-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-school-guardianAssociationsUpdated"}
  parquet-guardian-deleted-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-school-guardianDeleted"}

  parquet-guardian-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-school-guardianInvitedRegistered"}
  parquet-guardian-associations-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-school-guardianAssociationsUpdated"}
  parquet-guardian-deleted-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-school-guardianDeleted"}

  transformed-guardian-registration-common-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-guardian-registration-common"}
  transformed-guardian-registration-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-guardian-registration"}
  transformed-guardian-association-common-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-guardian-association-common"}
  transformed-guardian-association-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-guardian-association"}
  transformed-guardian-latest-association-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-guardian-latest-association"}
  transformed-guardian-association-deleted-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-guardian-association-deleted"}
  transformed-guardian-association-deleted-by-student-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-guardian-association-deleted-by-student"}

  redshift-guardian-dim = ${redshift} {"dbtable": ${redshift-schema}".dim_guardian"}
  redshift-guardian-rel = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_guardian"}
  delta-guardian-dim =  ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-guardian"}

  parquet-guardian {
    source: [
      "parquet-guardian-source"
    ]
    sink: [
      "parquet-guardian-sink"
    ]
  }

  parquet-guardian-associations {
    source: [
      "parquet-guardian-associations-source"
    ]
    sink: [
      "parquet-guardian-associations-sink"
    ]
  }

  parquet-guardian-deleted {
    source: [
      "parquet-guardian-deleted-source"
    ]
    sink: [
      "parquet-guardian-deleted-sink"
    ]
  }

  transform-guardian-registration-common {
    source: [
      "parquet-guardian-source"
    ]
    sink: [
      "transformed-guardian-registration-common-sink"
    ]
  }

  transform-guardian-registration {
    source: [
      "transformed-guardian-registration-common-sink"
    ]
    sink: [
      "transformed-guardian-registration-sink"
    ]
  }

  transform-guardian-association-common {
    source: [
      "parquet-guardian-associations-source"
    ]
    sink: [
      "transformed-guardian-association-common-sink"
    ]
  }

  transform-guardian-association {
    source: [
      "transformed-guardian-association-common-sink"
    ]
    sink: [
      "transformed-guardian-association-sink"
    ]
  }

  transform-guardian-latest-association {
    source: [
      "transformed-guardian-association-sink"
    ]
    sink: [
      "transformed-guardian-latest-association-sink"
    ]
  }

  transform-guardian-association-deleted {
    source: [
      "transformed-guardian-association-common-sink",
      "parquet-guardian-deleted-source",
      "redshift-guardian-dim",
      "redshift-guardian-rel"
    ]
    sink: [
      "transformed-guardian-association-deleted-sink"
    ]
  }

  transform-guardian-association-deleted-by-student {
    source: [
      "transformed-guardian-association-common-sink",
      "parquet-guardian-associations-source",
      "redshift-guardian-dim",
      "redshift-guardian-rel"
    ]
    sink: [
      "transformed-guardian-association-deleted-by-student-sink"
    ]
  }

  redshift-guardian-user {
    source: [
      "transformed-guardian-registration-common-sink"
    ]
    sink: [
      "redshift-user-rel"
    ]
  }

  redshift-guardian-registration {
    source: [
      "transformed-guardian-registration-sink"
    ]
    sink: [
      "redshift-guardian-rel"
    ]
  }

  redshift-guardian-association {
    source: [
      "transformed-guardian-association-sink"
    ]
    sink: [
      "redshift-guardian-rel"
    ]
  }

  redshift-guardian-association-deleted {
    source: [
      "transformed-guardian-association-deleted-sink"
    ]
    sink: [
      "redshift-guardian-rel"
    ]
  }

  redshift-guardian-association-deleted-by-student {
    source: [
      "transformed-guardian-association-deleted-by-student-sink"
    ]
    sink: [
      "redshift-guardian-rel"
    ]
  }

  delta-guardian-registration {
    source: [
      "transformed-guardian-registration-sink"
    ]
    sink: [
      "delta-guardian-dim"
    ]
  }

  delta-guardian-empty-association {
    source: [
      "transformed-guardian-latest-association-sink"
    ]
    sink: [
      "delta-guardian-dim"
    ]
  }

  delta-guardian-association {
    source: [
      "transformed-guardian-association-sink"
    ]
    sink: [
      "delta-guardian-dim"
    ]
  }

  delta-guardian-association-deleted {
    source: [
      "transformed-guardian-association-deleted-sink"
    ]
    sink: [
      "delta-guardian-dim"
    ]
  }

  delta-guardian-association-deleted-by-student {
    source: [
      "transformed-guardian-association-deleted-by-student-sink"
    ]
    sink: [
      "delta-guardian-dim"
    ]
  }
  #-------Dim Guardian-------

  parquet-user-source = ${parquet-source} {"path": ${adls.path}"/"${env}"/processing/alef-iam-userMutated"}
  parquet-admin-school-moved-source = ${parquet-source} {"path": ${adls.path}"/"${env}"/processing/alef-iam-userMoved"}
  parquet-user-deleted-source = ${parquet-source} {"path": ${adls.path}"/"${env}"/processing/alef-iam-userDeleted"}
  redshift-admin-rel=${fabric} {"dbtable": ${fabric-schema-stage}".rel_admin"}
  delta-admin-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-admin-user"}

  admin-users-dimension {
    source: [
      "parquet-user-source",
      "parquet-user-deleted-source",
      "parquet-admin-school-moved-source"
    ]
    sink: [
      "redshift-admin-rel",
      "redshift-user-rel",
      "parquet-user-source",
      "parquet-user-deleted-source",
      "parquet-admin-school-moved-source",
      "delta-admin-sink"
    ]
  }

  learning-objective-dimension {
    source: [
      "parquet-learning-objective-source",
      "parquet-learning-objective-updated-deleted-source"
    ]
    sink: [
      "redshift-learning-objective-dim",
      "parquet-learning-objective-source",
      "parquet-learning-objective-updated-deleted-source"
    ]
  }

  parquet-ccl-lesson-mutated-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-lesson-mutated"}
  parquet-ccl-lesson-deleted-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-lesson-deleted"}
  parquet-ccl-lesson-published-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-lesson-published"}
  parquet-ccl-lesson-workflow-status-changed-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-lesson-workflow-status-changed"}
  delta-ccl-lesson-created-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-lesson"}
  delta-ccl-lesson-updated-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-lesson"}
  delta-ccl-lesson-published-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-lesson"}
  delta-ccl-lesson-deleted-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-lesson"}
  delta-ccl-lesson-workflow-status-changed-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-lesson"}
  redshift-learning-objective-dim = ${redshift} {"dbtable": ${redshift-schema}".dim_learning_objective"}

  ccl-lesson-dimension {
    source: [
      "parquet-ccl-lesson-mutated-source",
      "parquet-ccl-lesson-deleted-source",
      "parquet-ccl-lesson-published-source",
      "parquet-ccl-lesson-workflow-status-changed-source"
    ]
    sink: [
      "redshift-learning-objective-dim",
      "parquet-ccl-lesson-mutated-source",
      "parquet-ccl-lesson-deleted-source",
      "parquet-ccl-lesson-published-source",
      "parquet-ccl-lesson-workflow-status-changed-source",
      "delta-ccl-lesson-created-sink",
      "delta-ccl-lesson-updated-sink",
      "delta-ccl-lesson-published-sink",
      "delta-ccl-lesson-deleted-sink",
      "delta-ccl-lesson-workflow-status-changed-sink"
    ]
  }

  parquet-ccl-lesson-outcome-attach-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-lesson-outcome-attach"}
  parquet-ccl-lesson-skill-link-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-lesson-skill-link"}
  delta-ccl-lesson-outcome-attach-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-lesson-association"}
  delta-ccl-lesson-skill-link-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-lesson-association"}
  redshift-learning-objective-association-dim = ${redshift} {"dbtable": ${redshift-schema}".dim_learning_objective_association"}

  ccl-lesson-association-dimension {
    source: [
      "parquet-ccl-lesson-outcome-attach-source",
      "parquet-ccl-lesson-skill-link-source"
    ]
    sink: [
      "redshift-learning-objective-association-dim",
      "parquet-ccl-lesson-outcome-attach-source",
      "parquet-ccl-lesson-skill-link-source",
      "delta-ccl-lesson-outcome-attach-sink",
      "delta-ccl-lesson-skill-link-sink"
    ]
  }

  parquet-ccl-activity-outcome-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-activity-outcome"}
  delta-ccl-activity-association-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-lesson-association"}

  ccl-activity-association-dimension {
    source: [
      "parquet-ccl-activity-outcome-source"
    ]
    sink: [
      "redshift-learning-objective-association-dim",
      "parquet-ccl-activity-outcome-source",
      "delta-ccl-activity-association-sink"
    ]
  }

  delta-ccl-activity-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-lesson"}
  parquet-ccl-activity-metadata-source = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-ccl-activity-metadata"}
  parquet-ccl-activity-metadata-delete-source = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-ccl-activity-metadata-delete"}
  parquet-ccl-activity-workflow-status-changed-source = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-ccl-activity-workflow-status-changed"}

  ccl-activity-dimension {
    source: [
      "parquet-ccl-activity-metadata-source",
      "parquet-ccl-activity-metadata-delete-source",
      "parquet-ccl-activity-workflow-status-changed-source"
    ]
    sink: [
      "parquet-ccl-activity-metadata-source",
      "parquet-ccl-activity-metadata-delete-source",
      "parquet-ccl-activity-workflow-status-changed-source",
      "redshift-learning-objective-dim",
      "redshift-ccl-lesson-step-instance-dim",
      "delta-ccl-activity-sink",
      "delta-ccl-lesson-step-instance-sink"
    ]
  }

  parquet-ccl-lesson-content-attach-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-lesson-content-attach"}
  parquet-ccl-lesson-assigment-attach-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/ccl-lesson-assignment-association"}
  parquet-ccl-lesson-assessment-rule-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/ccl-lesson-assessment-rule-association"}
  redshift-ccl-lesson-step-instance-dim = ${redshift} {"dbtable": ${redshift-schema}".dim_step_instance"}
  delta-ccl-lesson-step-instance-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-step-instance/"}

  ccl-lesson-step-instance-association{
    source: [
      "parquet-ccl-lesson-content-attach-source",
      "parquet-ccl-lesson-assigment-attach-source",
      "parquet-ccl-lesson-assessment-rule-source"
    ]
    sink: [
      "redshift-ccl-lesson-step-instance-dim",
      "parquet-ccl-lesson-content-attach-source",
      "parquet-ccl-lesson-assigment-attach-source",
      "parquet-ccl-lesson-assessment-rule-source",
      "delta-ccl-lesson-step-instance-sink"
    ]
  }

  learning-path-dimension {
    source: [
      "parquet-learning-path-source"
    ]
    sink: [
      "redshift-learning-path-dim",
      "parquet-learning-path-source",
      "delta-learning-path-sink"
    ]
  }

    # Academic year
  parquet-academic-year-rollover-completed-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/admin-academic-year-roll-over-completed"}
  parquet-academic-year-created-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-academic-year-created"}
  parquet-academic-year-updated-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-academic-year-updated"}

  parquet-academic-year-rollover-completed-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/admin-academic-year-roll-over-completed"}
  parquet-academic-year-created-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-academic-year-created"}
  parquet-academic-year-updated-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-academic-year-updated"}

  transformed-academic-year-rollover = ${parquet-source-overwrite} {path = ${s3.path}"/"${env}"/transformed/admin-academic-year-rolled-over"}
  transformed-academic-year-created = ${parquet-source-overwrite} {path = ${s3.path}"/"${env}"/transformed/alef-academic-year-created"}
  transformed-academic-year-updated = ${parquet-source-overwrite} {path = ${s3.path}"/"${env}"/transformed/alef-academic-year-updated"}

  redshift-academic-year-dim = ${redshift} {"dbtable": ${redshift-schema}".dim_academic_year"}
  delta-academic-year-sink = ${delta-sink} {"path": ${s3.delta.path}"/"${env}"/alef-academic-year"}

  data-academic-year-rollover-service {
      source: [
          "parquet-academic-year-rollover-completed-source"
      ]
      sink: [
          "parquet-academic-year-rollover-completed-sink"
      ]
  }

  data-academic-year-created-service {
      source: [
          "parquet-academic-year-created-source"
      ]
      sink: [
          "parquet-academic-year-created-sink"
      ]
  }

  data-academic-year-updated-service {
      source: [
          "parquet-academic-year-updated-source"
      ]
      sink: [
          "parquet-academic-year-updated-sink"
      ]
  }

  transform-academic-year-rollover-service {
    source: [
        "parquet-academic-year-rollover-completed-source"
     ]
     sink: [
        "transformed-academic-year-rollover"
     ]
  }

  transform-academic-year-created-service {
        create-source: "parquet-academic-year-created-source"
        create-sink: "transformed-academic-year-created"
  }

  transform-academic-year-updated-service {
      update-source: "parquet-academic-year-updated-source"
      update-sink: "transformed-academic-year-updated"
  }

  delta-academic-year-created-service {
      create-source: "transformed-academic-year-created"
      sink: "delta-academic-year-sink"
  }

  delta-academic-year-updated-service {
      update-source: "transformed-academic-year-updated"
      sink: "delta-academic-year-sink"
  }

  delta-academic-year-rollover-service {
      source: [
        "transformed-academic-year-rollover"
      ]
      sink: [
        "delta-academic-year-sink"
      ]
  }

  redshift-academic-year-created-service {
      create-source: "transformed-academic-year-created"
      sink: "redshift-academic-year-dim"
  }

  redshift-academic-year-updated-service {
      update-source: "transformed-academic-year-updated"
      sink: "redshift-academic-year-dim"
  }

  redshift-academic-year-rollover-service {
      source: [
        "transformed-academic-year-rollover"
      ]
      sink: [
        "redshift-academic-year-dim"
      ]
  }

  #Academic Calendar
  parquet-academic-calendar-created-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-academic-calendar-created"}
  parquet-academic-calendar-created-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-academic-calendar-created"}
  parquet-academic-calendar-updated-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-academic-calendar-updated"}
  parquet-academic-calendar-updated-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-academic-calendar-updated"}
  parquet-academic-calendar-deleted-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-academic-calendar-deleted"}
  parquet-academic-calendar-deleted-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-academic-calendar-deleted"}
  parquet-academic-calendar-transform-created-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-academic-calendar-created"}
  parquet-academic-calendar-transform-updated-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-academic-calendar-updated"}
  parquet-academic-calendar-transform-deleted-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-academic-calendar-deleted"}
  delta-academic-calendar-sink = ${delta-sink} {"path": ${s3.delta.path}"/"${env}"/alef-academic-calendar"}
  redshift-academic-calendar-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_academic_calendar"}

  academic-calendar-transform {
    created-source: ["parquet-academic-calendar-created-source"],
    updated-source: ["parquet-academic-calendar-updated-source"],
    deleted-source: ["parquet-academic-calendar-deleted-source"],
    created-sink: ["parquet-academic-calendar-transform-created-sink"],
    updated-sink: ["parquet-academic-calendar-transform-updated-sink"],
    deleted-sink: ["parquet-academic-calendar-transform-deleted-sink"],
    column-mapping: {
                    "uuid" : "academic_calendar_id",
                    "tenantId" : "academic_calendar_tenant_id",
                    "title" : "academic_calendar_title",
                    "default" : "academic_calendar_is_default",
                    "type" : "academic_calendar_type",
                    "academicYearId" : "academic_calendar_academic_year_id",
                    "schoolId" : "academic_calendar_school_id",
                    "organization" : "academic_calendar_organization",
                    "createdBy" : "academic_calendar_created_by_id",
                    "occurredOn" : "occurredOn",
                    "updatedBy" : "academic_calendar_updated_by_id"
                    "academic_calendar_status" : "academic_calendar_status"
                    }
    entity: "academic_calendar",
    unique-ids: ["uuid"],
    key: "dim_academic_calendar"
  }

    parquet-academic-calendar-created {
      source: [
        "parquet-academic-calendar-created-source",
      ]
      sink: [
        "parquet-academic-calendar-created-sink",
      ]
    }

    parquet-academic-calendar-updated {
          source: [
            "parquet-academic-calendar-updated-source",
          ]
          sink: [
            "parquet-academic-calendar-updated-sink",
          ]
     }

    parquet-academic-calendar-deleted {
          source: [
            "parquet-academic-calendar-deleted-source",
          ]
          sink: [
            "parquet-academic-calendar-deleted-sink",
          ]
    }

     redshift-academic-calendar-created-service {
       source: [
         "parquet-academic-calendar-transform-created-sink",
       ]
       sink: [
         "redshift-academic-calendar-sink"
       ]
       table-name: "rel_academic_calendar"
       match-conditions: "rel_academic_calendar.academic_calendar_id = temp_table.academic_calendar_id"
       entity-prefix: "academic_calendar"
       is-staging: true
     }

     redshift-academic-calendar-updated-service {
            source: [
              "parquet-academic-calendar-transform-updated-sink",
            ]
            sink: [
              "redshift-academic-calendar-sink"
            ]
             event-name: "AcademicCalendarUpdatedEvent"
             unique-ids: ["academic_calendar_id"]
             entity-prefix: "academic_calendar"
             is-staging: true
     }


     redshift-academic-calendar-deleted-service {
            source: [
              "parquet-academic-calendar-transform-deleted-sink"
            ]
            sink: [
              "redshift-academic-calendar-sink"
            ]
             event-name: "AcademicCalendarDeletedEvent"
             entity-prefix: "academic_calendar"
             unique-ids: ["academic_calendar_id"]
             is-staging: true
     }

     delta-academic-calendar-created-service {
            source: [
              "parquet-academic-calendar-transform-created-sink",
            ]
            sink: [
              "delta-academic-calendar-sink"
            ]
            match-conditions: "delta.academic_calendar_id = events.academic_calendar_id"
            entity-prefix: "academic_calendar"
          }

          delta-academic-calendar-updated-service {
                 source: [
                   "parquet-academic-calendar-transform-updated-sink",
                 ]
                 sink: [
                   "delta-academic-calendar-sink"
                 ]
                  match-conditions: "delta.academic_calendar_id = events.academic_calendar_id"
                  entity-prefix: "academic_calendar"

          }


          delta-academic-calendar-deleted-service {
                 source: [
                   "parquet-academic-calendar-transform-deleted-sink"
                 ]
                 sink: [
                   "delta-academic-calendar-sink"
                 ]
                  match-conditions: "delta.academic_calendar_id = events.academic_calendar_id"
                  entity-prefix: "academic_calendar"
          }


  #Academic Calendar Teaching Period
  parquet-academic-calendar-teaching-period-transform-created-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-academic-calendar-teaching-period-created"}
  parquet-academic-calendar-teaching-period-transform-updated-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-academic-calendar-teaching-period-updated"}
  delta-academic-calendar-teaching-period-sink = ${delta-sink} {"path": ${s3.delta.path}"/"${env}"/alef-academic-calendar-teaching-period"}
  redshift-academic-calendar-teaching-period-sink = ${redshift} {"dbtable": ${redshift-schema}".dim_academic_calendar_teaching_period"}
  academic-calendar-teaching-period-created-transform {
      source: ["parquet-academic-calendar-created-source"],
      sink: ["parquet-academic-calendar-teaching-period-transform-created-sink"],
      column-mapping: {
                      "id" : "actp_academic_calendar_id",
                      "title": "actp_teaching_period_title",
                      "current": "actp_teaching_period_is_current",
                      "uuid": "actp_teaching_period_id",
                      "startDate": "actp_teaching_period_start_date",
                      "endDate": "actp_teaching_period_end_date",
                      "createdBy": "actp_teaching_period_created_by_id",
                      "updatedBy": "actp_teaching_period_updated_by_id",
                      "actp_status": "actp_status",
                      "teachingPeriodOrder": "actp_teaching_period_order",
                      "occurredOn": "occurredOn"
                      }
      entity-prefix: "actp",
      unique-ids: ["id"],
      key: "dim_academic_calendar_teaching_period",
      event-name: "AcademicCalendarCreatedEvent"
    }

  academic-calendar-teaching-period-updated-transform {
      source: ["parquet-academic-calendar-updated-source"],
      sink: ["parquet-academic-calendar-teaching-period-transform-updated-sink"],
      column-mapping: {
                      "id" : "actp_academic_calendar_id",
                      "title": "actp_teaching_period_title",
                      "current": "actp_teaching_period_is_current",
                      "uuid": "actp_teaching_period_id",
                      "startDate": "actp_teaching_period_start_date",
                      "endDate": "actp_teaching_period_end_date",
                      "createdBy": "actp_teaching_period_created_by_id",
                      "updatedBy": "actp_teaching_period_updated_by_id",
                      "occurredOn": "occurredOn",
                      "actp_status": "actp_status",
                      "teachingPeriodOrder": "actp_teaching_period_order"
                      }
      entity-prefix: "actp",
      unique-ids: ["id"],
      key: "dim_academic_calendar_teaching_period",
      event-name: "AcademicCalendarUpdatedEvent"
  }

  delta-academic-calendar-teaching-period-created-service {
         source: "parquet-academic-calendar-teaching-period-transform-created-sink",
         sink: [
           "delta-academic-calendar-teaching-period-sink"
         ]
         unique-ids: ["actp_academic_calendar_id"]
         match-conditions: "delta.actp_academic_calendar_id = events.actp_academic_calendar_id"
         inactive_status_value: 2
   }

    delta-academic-calendar-teaching-period-updated-service {
            source: "parquet-academic-calendar-teaching-period-transform-updated-sink",
            sink: [
              "delta-academic-calendar-teaching-period-sink"
            ]
            unique-ids: ["actp_academic_calendar_id"]
            match-conditions: "delta.actp_academic_calendar_id = events.actp_academic_calendar_id"
            inactive_status_value: 2
      }

    redshift-academic-calendar-teaching-period-created-service {
         source: "parquet-academic-calendar-teaching-period-transform-created-sink",
         sink: [
           "redshift-academic-calendar-teaching-period-sink"
         ]
         unique-ids: ["actp_academic_calendar_id"]
         inactive_status_value: 2
         is_staging_sink: false
    }

    redshift-academic-calendar-teaching-period-updated-service {
     source: "parquet-academic-calendar-teaching-period-transform-updated-sink",
     sink: [
       "redshift-academic-calendar-teaching-period-sink"
     ]
     unique-ids: ["actp_academic_calendar_id"]
     inactive_status_value: 2
     is_staging_sink: false
    }

  redshift-star-award-source = ${redshift-star-award-sink}
  redshift-star-award-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_star_awarded"}
  delta-star-award-sink = ${delta-sink}  {"path": ${s3.delta.path}"/"${env}"/alef-star-award"}

  award-resource-aggregation {
    source: [
      "parquet-award-resource-source",
      "redshift-award-categories-source"
    ]
    sink: [
      "redshift-star-award-sink",
      "delta-star-award-sink",
      "parquet-award-resource-source"
    ]
  }

  parquet-authentication-loggedIn-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-iam-auth"}
  parquet-authentication-loggedIn-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-iam-auth"}
  parquet-authentication-transform-source = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-iam-auth"}
  parquet-authentication-transform-sink = ${parquet-authentication-transform-source}
  redshift-user-login-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_user_login"}
  delta-user-login-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-user-login"}

  user-login-aggregation {
    source: [
      "parquet-authentication-loggedIn-source"
    ]
    sink: [
      "redshift-user-login-sink",
      "delta-user-login-sink",
      "parquet-authentication-loggedIn-source"
    ]
  }

  user-login-parquet-aggregation {
    source: [
      "parquet-authentication-loggedIn-source"
    ]
    sink: [
      "parquet-authentication-loggedIn-sink"
    ]
  }

  user-login-transform-aggregation {
    source: [
        "parquet-authentication-transform-source"
    ]
    sink: [
        "parquet-authentication-transform-sink"
    ]
  }

  user-login-redshift-aggregation {
    source: [
        "parquet-authentication-transform-source"
    ]
    sink: [
        "redshift-user-login-sink"
    ]
  }

  user-login-delta-aggregation {
    source: [
        "parquet-authentication-transform-source"
    ]
    sink: [
        "delta-user-login-sink"
    ]
  }

  #learning-experience
  parquet-experience-started-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-learning-experience-started"}
  parquet-experience-finished-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-learning-experience-finished"}
  parquet-experience-discarded-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-learning-experience-discarded"}

  transformed-learning-experience-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-learning-experience"}

  redshift-learning-experience-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_learning_experience"}
  delta-learning-experience-sink = ${delta-sink}  {"path": ${s3.delta.path}"/"${env}"/alef-learning-experience"}

  parquet-experience-started-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-learning-experience-started"}
  parquet-experience-finished-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-learning-experience-finished"}
  parquet-experience-discarded-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-learning-experience-discarded"}


  #learning-session
  parquet-learning-session-started-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-learning-session-started"}
  parquet-learning-session-finished-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-learning-session-finished"}
  parquet-learning-session-deleted-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-learning-session-deleted"}

  transformed-learning-session-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-learning-session"}

  parquet-learning-session-started-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-learning-session-started"}
  parquet-learning-session-finished-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-learning-session-finished"}
  parquet-learning-session-deleted-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-learning-session-deleted"}


  #score-breakdown
  transformed-score-breakdown-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-score-breakdown"}
  redshift-score-breakdown-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_learning_score_breakdown"}
  delta-score-breakdown-sink = ${delta-sink}  {"path": ${s3.delta.path}"/"${env}"/alef-learning-score-breakdown"}


  transform-learning-aggregation {
    source: [
      "parquet-learning-session-started-source",
      "parquet-learning-session-finished-source",
      "parquet-learning-session-deleted-source"
    ]
    sink: [
      "transformed-learning-session-sink"
    ]
  }

  parquet-learning-session-started {
    source: [
      "parquet-learning-session-started-source",
    ]
    sink: [
      "parquet-learning-session-started-sink",
    ]
  }

  parquet-learning-session-finished {
   source: [
     "parquet-learning-session-finished-source"
   ]
   sink: [
     "parquet-learning-session-finished-sink"
   ]
 }

 parquet-learning-session-deleted {
    source: [
      "parquet-learning-session-deleted-source"
    ]
    sink: [
      "parquet-learning-session-deleted-sink"
    ]
  }


 redshift-learning-session{
   source: [
     "transformed-learning-session-sink"
   ]
   sink: [
     "redshift-learning-experience-sink"
   ]
 }

 delta-learning-session{
   source: [
     "transformed-learning-session-sink"
   ]
   sink: [
     "delta-learning-experience-sink"
   ]
 }

transform-experience-aggregation {
 source: [
  "parquet-experience-finished-source",
  "parquet-experience-discarded-source"
 ]
 sink: [
   "transformed-learning-experience-sink"
 ]
}

 redshift-learning-experience{
   source: [
     "transformed-learning-experience-sink"
   ]
   sink: [
     "redshift-learning-experience-sink"
   ]
 }

 delta-learning-experience {
   source: [
     "transformed-learning-experience-sink"
   ]
   sink: [
     "delta-learning-experience-sink"
   ]
 }

  transform-score-breakdown {
    source:[
      "parquet-experience-finished-source",
    ]
    sink:[
      "transformed-score-breakdown-sink"
    ]
  }

  parquet-learning-experience-started {
    source: [
      "parquet-experience-started-source",
    ]
    sink: [
      "parquet-experience-started-sink",
    ]
  }

  parquet-learning-experience-finished {
   source: [
     "parquet-experience-finished-source"
   ]
   sink: [
     "parquet-experience-finished-sink"
   ]
 }
  parquet-learning-experience-discarded {
   source: [
     "parquet-experience-discarded-source"
   ]
   sink: [
     "parquet-experience-discarded-sink"
   ]
 }

 redshift-score-breakdown{
   source: [
     "transformed-score-breakdown-sink"
   ]
   sink: [
     "redshift-score-breakdown-sink"
   ]
 }

 delta-score-breakdown{
   source: [
     "transformed-score-breakdown-sink"
   ]
   sink: [
     "delta-score-breakdown-sink"
   ]
 }

  parquet-total-score-updated-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-total-score-updated"}

  experience-total-score-updated {
      source: [
        "parquet-total-score-updated-source"
      ]
      sink: [
        "parquet-total-score-updated-source",
        "redshift-learning-experience-sink",
        "delta-learning-experience-sink"
      ]
  }

  parquet-ccl-activity-template-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-activity-template"}
  redshift-ccl-activity-template-sink = ${redshift} {"dbtable": ${redshift-schema}".dim_activity_template"}
  delta-ccl-activity-template-sink = ${delta-sink}  {"path": ${s3.delta.path}"/"${env}"/alef-activity-template"}

  ccl-activity-template-dimension {
    source: [
      "parquet-ccl-activity-template-source"
    ]
    sink: [
      "parquet-ccl-activity-template-source",
      "redshift-ccl-activity-template-sink",
      "delta-ccl-activity-template-sink"
    ]
  }

  parquet-experience-submitted-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-experience-submitted"}
  redshift-experience-submitted-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_experience_submitted"}
  delta-experience-submitted-sink = ${delta-sink}  {"path": ${s3.delta.path}"/"${env}"/alef-experience-submitted"}

  experience-submitted {
    source: [
      "parquet-experience-submitted-source"
    ]
    sink: [
      "parquet-experience-submitted-source",
      "redshift-experience-submitted-sink",
      "delta-experience-submitted-sink"
    ]
  }

  parquet-conversation-occurred-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-tutordhabi-conversation-occurred"}
  redshift-conversation-occurred-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_conversation_occurred"}
  delta-conversation-occurred-sink = ${delta-sink}  {"path": ${s3.delta.path}"/"${env}"/alef-conversation-occurred"}

  conversation-occurred {
    source: [
      "parquet-conversation-occurred-source"
    ]
    sink: [
      "redshift-conversation-occurred-sink",
      "parquet-conversation-occurred-source",
      "delta-conversation-occurred-sink"
    ]
  }

  practice {
    source: [
      "parquet-practice-source"
    ]
    sink: [
      "redshift-practice-sink",
      "parquet-practice-source",
      "delta-practice-sink"
    ]
  }

  practice-fact {
    source: [
      "parquet-practice-session-started-source",
      "parquet-practice-session-finished-source",
      "parquet-practice-item-session-started-source",
      "parquet-practice-item-session-finished-source",
      "parquet-practice-item-content-session-started-source",
      "parquet-practice-item-content-session-finished-source",
      "parquet-practice-delta-staging-source",
      "parquet-practice-item-delta-staging-source",
      "parquet-practice-item-content-delta-staging-source"
    ]
    sink: [
      "parquet-practice-session-started-source",
      "parquet-practice-session-finished-source",
      "parquet-practice-item-session-started-source",
      "parquet-practice-item-session-finished-source",
      "parquet-practice-item-content-session-started-source",
      "parquet-practice-item-content-session-finished-source",
      "redshift-practice-session-sink",
      "delta-practice-session-sink",
      "parquet-practice-delta-staging-source",
      "parquet-practice-item-delta-staging-source",
      "parquet-practice-item-content-delta-staging-source"
    ]
  }

  no-skill-content {
    source: [
      "parquet-no-skill-content-source"
    ]
    sink: [
      "redshift-no-skill-content-sink",
      "delta-no-skill-content-sink",
      "parquet-no-skill-content-source"
    ]
  }

  parquet-kt-game-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-game-session-created"}
  parquet-kt-game-creation-skipped-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-game-session-creation-skipped"}
  redshift-kt-game-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_ktg"}
  redshift-kt-game-skipped-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_ktgskipped"}
  delta-kt-game-sink = ${delta-sink}  {"path": ${s3.delta.path}"/"${env}"/alef-ktg"}
  delta-kt-game-skipped-sink = ${delta-sink}  {"path": ${s3.delta.path}"/"${env}"/alef-ktgskipped"}

  kt-game {
    source: [
      "parquet-kt-game-source",
      "parquet-kt-game-creation-skipped-source",
    ],
    sink: [
      "redshift-kt-game-sink",
      "redshift-kt-game-skipped-sink",
      "parquet-kt-game-source",
      "parquet-kt-game-creation-skipped-source",
      "delta-kt-game-sink",
      "delta-kt-game-skipped-sink"
    ]
  }

  redshift-kt-game-session-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_ktg_session"}
  delta-kt-game-session-sink = ${delta-sink}  {"path": ${s3.delta.path}"/"${env}"/alef-ktg-session"}
  parquet-kt-game-session-started-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-game-session-started"}
  parquet-kt-game-session-finished-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-game-session-finished"}
  parquet-kt-game-question-session-started-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-game-question-session-started"}
  parquet-kt-game-question-session-finished-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-game-question-session-finished"}
  parquet-kt-game-delta-staging-source = ${parquet-source} {"outputMode":"overwrite" , "mode":"overwrite", "path": ${s3.path}"/"${env}"/staging/alef-game-session"}
  parquet-kt-game-question-delta-staging-source = ${parquet-source} {"outputMode":"overwrite" , "mode":"overwrite", "path": ${s3.path}"/"${env}"/staging/alef-game-question-session"}

  kt-game-session {
    source: [
      "parquet-kt-game-session-started-source",
      "parquet-kt-game-session-finished-source",
      "parquet-kt-game-question-session-started-source",
      "parquet-kt-game-question-session-finished-source",
      "parquet-kt-game-delta-staging-source",
      "parquet-kt-game-question-delta-staging-source"
    ],
    sink: [
      "delta-kt-game-session-sink",
      "redshift-kt-game-session-sink",
      "parquet-kt-game-session-started-source",
      "parquet-kt-game-session-finished-source",
      "parquet-kt-game-question-session-started-source",
      "parquet-kt-game-question-session-finished-source",
      "parquet-kt-game-delta-staging-source",
      "parquet-kt-game-question-delta-staging-source"
    ]
  }

  parquet-in-class-game-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-in-class-game"}
  parquet-in-class-game-session-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-in-class-game-session"}
  parquet-in-class-game-session-delta-staging-source = ${parquet-source} {"outputMode":"overwrite" , "mode":"overwrite", "path": ${s3.path}"/"${env}"/staging/alef-in-class-game-session"}
  parquet-in-class-game-outcome-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-in-class-game-outcome"}
  redshift-in-class-game-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_inc_game"}
  redshift-in-class-game-session-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_inc_game_session"}
  redshift-in-class-game-outcome-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_inc_game_outcome"}
  delta-in-class-game-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-in-class-game"}
  delta-in-class-game-outcome-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-in-class-game-outcome"}
  delta-in-class-game-session-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-in-class-game-session"}

  in-class-game {
    source: [
      "parquet-in-class-game-source",
      "parquet-in-class-game-session-source",
      "parquet-in-class-game-session-delta-staging-source",
      "parquet-in-class-game-outcome-source"
    ],
    sink: [
      "parquet-in-class-game-source",
      "parquet-in-class-game-session-source",
      "parquet-in-class-game-outcome-source",
      "parquet-in-class-game-session-delta-staging-source",
      "redshift-in-class-game-sink",
      "redshift-in-class-game-session-sink",
      "redshift-in-class-game-outcome-sink",
      "delta-in-class-game-sink",
      "delta-in-class-game-outcome-sink",
      "delta-in-class-game-session-sink"
    ]
  }

  parquet-guardian-xapi-v2-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-raw-guardian-xapi"}
  redshift-guardian-app-activities-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_guardian_app_activities"}
  delta-guardian-app-activities-sink = ${delta-sink}  {"path": ${s3.delta.path}"/"${env}"/alef-guardian-app-activities"}

  guardian-xapi-v2-service {
    source: [
      "parquet-guardian-xapi-v2-source"
    ]
    sink: [
      "parquet-guardian-xapi-v2-source",
      "redshift-guardian-app-activities-sink",
      "delta-guardian-app-activities-sink"
    ]
  }

  parquet-student-xapi-v2-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-raw-student-xapi"}
  redshift-student-activities-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_student_activities"}

  student-xapi-v2-service {
    source: [
      "parquet-student-xapi-v2-source"
    ]
    sink: [
      "parquet-student-xapi-v2-source",
      "redshift-student-activities-sink"
    ]
  }

  parquet-teacher-xapi-v2-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-raw-teacher-xapi"}
  parquet-invalid-teacher-xapi-v2-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/invalid/alef-raw-teacher-xapi"}
  redshift-teacher-activities-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_teacher_activities"}

  teacher-xapi-v2-service {
    source: [
      "parquet-teacher-xapi-v2-source"
    ]
    sink: [
      "parquet-teacher-xapi-v2-source",
      "redshift-teacher-activities-sink",
      "parquet-invalid-teacher-xapi-v2-sink"
    ]
  }

  source-award-resource-aggregation {
    source: []
    sink: [
      "redshift-star-award-sink"
    ]
  }

  lesson-feedback {
    source: [
      "parquet-lesson-feedback-source"
    ]
    sink: [
      "parquet-lesson-feedback-source",
      "redshift-lesson-feedback-sink",
      "delta-lesson-feedback-sink",
    ]
  }

  parquet-assignment-submission-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-assignment-submission"}
  delta-assignment-submission-sink = ${delta-sink}  {"path": ${s3.delta.path}"/"${env}"/alef-assignment-submission"}
  redshift-assignment-submission-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_assignment_submission"}
  assignment-submission {
    source: [
      "parquet-assignment-submission-source"
    ],
    sink: [
      "parquet-assignment-submission-source",
      "redshift-assignment-submission-sink",
      "delta-assignment-submission-sink"
    ]
  }

  parquet-source: ${parquet} {
    "mode": "append"
    "mergeSchema": "true"
  }

  parquet-merged-sink: {
    "format": "org.apache.spark.sql.parquet",
    "mode": "overwrite"
  }

  json-source: ${json} {
    "mode": "append"
  }

  json-source-overwrite: ${json} {"outputMode":"overwrite", "mode": "overwrite"}

  delta-sink: ${delta} {
    "mode": "append"
  }

  parquet-ccl-question-mutated-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-question-mutated"}
  data-ccl-question-mutated = ${parquet-source} {path = ${s3.path}"/"${env}"/data/alef-ccl-question-mutated"}
  transformed-ccl-question-mutated = ${parquet-source-overwrite} {path = ${s3.path}"/"${env}"/transformed/alef-ccl-question-mutated"}
  delta-ccl-question-mutated-sink = ${delta-sink} {"path": ${s3.delta.path}"/"${env}"/ccl-question"}
  redshift-ccl-question-mutated-stage-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_question"}
  redshift-ccl-question-dw-id-mapping-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_dw_id_mappings"}
  dw-id-mapping-ccl-question-mutated = ${parquet-source-overwrite} {path = ${s3.path}"/"${env}"/transformed/alef-ccl-question-mutated-dw-id-mapping"}
  dw-id-mapping-ccl-question-mutated-service {
    source: [
        "parquet-ccl-question-mutated-source"
    ]
    sink: [
        "dw-id-mapping-ccl-question-mutated"
    ]
  }

  data-ccl-question-mutated-service {
    source: [
        "parquet-ccl-question-mutated-source"
    ]
    sink: [
        "data-ccl-question-mutated"
    ]
  }

  transformed-ccl-question-mutated-service {
      source: [
        "parquet-ccl-question-mutated-source"
      ]
      sink: [
        "transformed-ccl-question-mutated"
      ]
  }

  delta-ccl-question-mutated-service {
      source: [
          "transformed-ccl-question-mutated"
      ]
      sink: [
          "delta-ccl-question-mutated-sink"
      ]
  }

  redshift-ccl-question-mutated-service {
      source: [
          "transformed-ccl-question-mutated"
      ]
      sink: [
          "redshift-ccl-question-mutated-stage-sink"
      ]
  }

  redshift-ccl-question-dw-id-mapping-service {
    source: [
        "dw-id-mapping-ccl-question-mutated"
    ]
    sink: [
        "redshift-ccl-question-dw-id-mapping-sink"
    ]
  }

  parquet-ccl-question-pool-mutated = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-question-pool-mutated"}
  data-ccl-question-pool-mutated = ${parquet-source} {path = ${s3.path}"/"${env}"/data/alef-question-pool-mutated"}
  transformed-ccl-question-pool-mutated = ${parquet-source-overwrite} {path = ${s3.path}"/"${env}"/transformed/alef-question-pool-mutated"}
  redshift-question-pool-sink = ${redshift} {"dbtable": ${redshift-schema}".dim_question_pool"}
  delta-question-pool-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-question-pool"}

  data-ccl-question-pool-mutated-service {
    source: [
      "parquet-ccl-question-pool-mutated"
    ]
    sink: [
      "data-ccl-question-pool-mutated"
    ]
  }

  transform-ccl-question-pool-mutated-service {
    source: [
        "parquet-ccl-question-pool-mutated"
     ]
     sink: [
        "transformed-ccl-question-pool-mutated"
     ]
  }

  delta-ccl-question-pool-mutated-service {
      source: [
          "transformed-ccl-question-pool-mutated"
      ]
      sink: [
          "delta-question-pool-sink"
      ]
  }

  redshift-ccl-question-pool-mutated-service {
      source: [
          "transformed-ccl-question-pool-mutated"
      ]
      sink: [
          "redshift-question-pool-sink"
      ]
  }

  parquet-curriculum-subject-created-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-curriculum-subject-created"}
  parquet-curriculum-subject-updated-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-curriculum-subject-updated"}
  parquet-curriculum-subject-deleted-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-curriculum-subject-deleted"}

  transformed-curriculum-subject-created-source = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-ccl-curriculum-subject-created"}
  transformed-curriculum-subject-updated-source = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-ccl-curriculum-subject-updated"}
  transformed-curriculum-subject-deleted-source = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-ccl-curriculum-subject-deleted"}

  redshift-curriculum-subject-sink = ${redshift} {"dbtable": ${redshift-schema}".dim_curriculum_subject"}

  delta-curriculum-subject-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-curriculum-subject"}

  data-curriculum-subject-created = ${parquet-source} {path = ${s3.path}"/"${env}"/data/alef-ccl-curriculum-subject-created"}
  data-curriculum-subject-updated = ${parquet-source} {path = ${s3.path}"/"${env}"/data/alef-ccl-curriculum-subject-updated"}
  data-curriculum-subject-deleted = ${parquet-source} {path = ${s3.path}"/"${env}"/data/alef-ccl-curriculum-subject-deleted"}

  data-curriculum-subject-created-service {
    source: [
      "parquet-curriculum-subject-created-source"
    ]
    sink: [
      "data-curriculum-subject-created"
    ]
  }

  data-curriculum-subject-updated-service {
    source: [
      "parquet-curriculum-subject-updated-source"
    ]
    sink: [
      "data-curriculum-subject-updated"
    ]
  }

  data-curriculum-subject-deleted-service {
    source: [
      "parquet-curriculum-subject-deleted-source"
    ]
    sink: [
      "data-curriculum-subject-deleted"
    ]
  }

  transform-curriculum-subject-created-service {
    source: [
      "parquet-curriculum-subject-created-source"
    ]
    sink: [
      "transformed-curriculum-subject-created-source"
    ]
  }

  transform-curriculum-subject-mutated-service {
    source: [
      "parquet-curriculum-subject-updated-source",
      "parquet-curriculum-subject-deleted-source"
    ]
    sink: [
      "transformed-curriculum-subject-updated-source",
      "transformed-curriculum-subject-deleted-source"
    ]
  }

  delta-curriculum-subject-created-service {
    source: [
       "transformed-curriculum-subject-created-source"
    ]
    sink: [
      "delta-curriculum-subject-sink"
    ]
  }

  delta-curriculum-subject-mutated-service {
    source: [
       "transformed-curriculum-subject-updated-source",
       "transformed-curriculum-subject-deleted-source"
    ]
    sink: [
      "delta-curriculum-subject-sink"
    ]
  }

  redshift-curriculum-subject-created-service {
    source: [
      "transformed-curriculum-subject-created-source"
    ]
    sink: [
      "redshift-curriculum-subject-sink"
    ]
  }

  redshift-curriculum-subject-mutated-service {
    source: [
      "transformed-curriculum-subject-updated-source",
      "transformed-curriculum-subject-deleted-source"
    ]
    sink: [
      "redshift-curriculum-subject-sink"
    ]
  }

  parquet-curriculum-created-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-curriculum-created"}
  data-curriculum-created = ${parquet-source} {path = ${s3.path}"/"${env}"/data/alef-ccl-curriculum-created"}
  transformed-curriculum-created = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-ccl-curriculum-created"}
  redshift-curriculum-created-sink = ${redshift} {"dbtable": ${redshift-schema}".dim_curriculum"}
  delta-curriculum-created-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-curriculum"}

  data-curriculum-created-service {
    source: [
      "parquet-curriculum-created-source"
    ]
    sink: [
      "data-curriculum-created"
    ]
  }

  transform-curriculum-created-service {
    source: [
      "parquet-curriculum-created-source"
    ]
    sink: [
      "transformed-curriculum-created"
    ]
  }

  delta-curriculum-created-service {
    source: [
       "transformed-curriculum-created"
    ]
    sink: [
      "delta-curriculum-created-sink"
    ]
  }

  redshift-curriculum-created-service {
    source: [
      "transformed-curriculum-created"
    ]
    sink: [
      "redshift-curriculum-created-sink"
    ]
  }

  parquet-curriculum-grade-created-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-curriculum-grade-created"}
  data-curriculum-grade-created = ${parquet-source} {path = ${s3.path}"/"${env}"/data/alef-ccl-curriculum-grade-created"}
  transformed-curriculum-grade-created = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-ccl-curriculum-grade-created"}
  redshift-curriculum-grade-created-sink = ${redshift} {"dbtable": ${redshift-schema}".dim_curriculum_grade"}
  delta-curriculum-grade-created-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-curriculum-grade"}

  data-curriculum-grade-created-service {
    source: [
      "parquet-curriculum-grade-created-source"
    ]
    sink: [
      "data-curriculum-grade-created"
    ]
  }

  transform-curriculum-grade-created-service {
    source: [
      "parquet-curriculum-grade-created-source"
    ]
    sink: [
      "transformed-curriculum-grade-created"
    ]
  }

  delta-curriculum-grade-created-service {
    source: [
      "transformed-curriculum-grade-created"
    ]
    sink: [
      "delta-curriculum-grade-created-sink"
    ]
  }

  redshift-curriculum-grade-created-service {
    source: [
      "transformed-curriculum-grade-created"
    ]
    sink: [
      "redshift-curriculum-grade-created-sink"
    ]
  }

  parquet-content-outcome-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-content-outcome-attach"}
  parquet-content-skill-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-content-skill-attached-detached"}
  redshift-content-association-sink = ${redshift} {"dbtable": ${redshift-schema}".dim_content_association"}
  delta-content-association-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-content-association"}

  content-association-dimension {
    source: [
      "parquet-content-outcome-source"
      "parquet-content-skill-source"
    ]
    sink: [
      "parquet-content-outcome-source",
      "parquet-content-skill-source",
      "redshift-content-association-sink",
      "delta-content-association-sink"
    ]
  }


  parquet-outcome-skill-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-outcome-skill-attach"}
  parquet-outcome-category-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-outcome-category-attach"}
  redshift-outcome-association-sink = ${redshift} {"dbtable": ${redshift-schema}".dim_outcome_association"}
  delta-outcome-association-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-outcome-association"}

  outcome-association-dimension {
    source: [
      "parquet-outcome-category-source",
      "parquet-outcome-skill-source"
    ]
    sink: [
      "parquet-outcome-category-source",
      "parquet-outcome-skill-source",
      "redshift-outcome-association-sink",
      "delta-outcome-association-sink"
    ]
  }


  parquet-tag-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-school-tagMutated"}
  data-tag-mutated = ${parquet-source} {path = ${s3.path}"/"${env}"/data/alef-school-tagMutated"}
  transformed-tag-mutated = ${parquet-source-overwrite} {path = ${s3.path}"/"${env}"/transformed/alef-school-tagMutated"}
  redshift-tag-mutated-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_tag"}
  delta-tag-mutated-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-tag"}

  data-tag-mutated-mutated-service {
    source: [
      "parquet-tag-source"
    ]
    sink: [
      "data-tag-mutated"
    ]
  }

  transform-tag-mutated-service {
    source: [
        "parquet-tag-source"
     ]
     sink: [
        "transformed-tag-mutated"
     ]
  }

  delta-tag-mutated-service {
      source: [
          "transformed-tag-mutated"
      ]
      sink: [
          "delta-tag-mutated-sink"
      ]
  }

  redshift-tag-mutated-service {
      source: [
          "transformed-tag-mutated"
      ]
      sink: [
          "redshift-tag-mutated-sink"
      ]
  }


  parquet-outcome-created-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-outcome-created"}
  parquet-outcome-updated-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-outcome-updated"}
  parquet-outcome-deleted-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-outcome-deleted"}

  redshift-outcome-sink = ${redshift} {"dbtable": ${redshift-schema}".dim_outcome"}

  delta-outcome-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-outcome"}

  outcome-dimension {
        source: [
          "parquet-outcome-created-source",
          "parquet-outcome-updated-source",
          "parquet-outcome-deleted-source"
        ]
        sink: [
          "parquet-outcome-created-source",
          "parquet-outcome-updated-source",
          "parquet-outcome-deleted-source",
          "redshift-outcome-sink",
          "delta-outcome-sink"
        ]
   }


  parquet-content-created-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-content-created"}
  parquet-content-updated-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-content-updated"}
  parquet-content-deleted-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-content-deleted"}
  parquet-content-published-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-content-published"}

  redshift-content-created-source = ${redshift} {"dbtable": ${redshift-schema}".dim_content"}
  redshift-content-updated-source = ${redshift} {"dbtable": ${redshift-schema}".dim_content"}
  redshift-content-published-source = ${redshift} {"dbtable": ${redshift-schema}".dim_content"}
  redshift-content-deleted-source = ${redshift} {"dbtable": ${redshift-schema}".dim_content"}

  delta-content-created-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-content"}
  delta-content-updated-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-content"}
  delta-content-published-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-content"}
  delta-content-deleted-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-content"}

  content-dimension {
      source: [
        "parquet-content-created-source",
        "parquet-content-updated-source"
        "parquet-content-deleted-source",
        "parquet-content-published-source"
      ]
      sink: [
        "parquet-content-created-source",
        "parquet-content-updated-source"
        "parquet-content-deleted-source",
        "parquet-content-published-source",
        "redshift-content-created-source",
        "redshift-content-updated-source",
        "redshift-content-published-source",
        "redshift-content-deleted-source",
        "delta-content-created-sink",
        "delta-content-updated-sink",
        "delta-content-published-sink",
        "delta-content-deleted-sink"
      ]
   }

  parquet-assignment-mutated-source = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-assignment-mutated"}
  parquet-assignment-deleted-source = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-assignment-deleted"}
  parquet-ccl-assignment-mutated-source = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/ccl-alef-assignment-mutated"}
  parquet-ccl-assignment-deleted-source = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/ccl-alef-assignment-deleted"}
  delta-assignment-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-assignment"}
  redshift-assignment-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_assignment"}

  assignment-dimension {
    source: [
      "parquet-assignment-mutated-source",
      "parquet-assignment-deleted-source",
      "parquet-ccl-assignment-mutated-source",
      "parquet-ccl-assignment-deleted-source"
    ]
    sink: [
      "parquet-assignment-mutated-source",
      "parquet-assignment-deleted-source",
      "parquet-ccl-assignment-mutated-source",
      "parquet-ccl-assignment-deleted-source"
      "delta-assignment-sink",
      "redshift-assignment-sink"
    ]
  }

  parquet-assignment-instance-mutated-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-assignment-instance-mutated"}
  parquet-assignment-instance-deleted-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-assignment-instance-deleted"}
  parquet-assignment-instance-student-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-assignment-instance-students-updated"}
  redshift-assignment-instance-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_assignment_instance"}
  redshift-assignment-instance-student-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_assignment_instance_student"}
  delta-assignment-instance-sink = ${delta-sink} {"path": ${s3.delta.path}"/"${env}"/alef-assignment-instance"}
  delta-assignment-instance-student-sink = ${delta-sink} {"path": ${s3.delta.path}"/"${env}"/alef-assignment-instance_student"}
  assignment-instance-dimension {
    source: [
      "parquet-assignment-instance-mutated-source",
      "parquet-assignment-instance-deleted-source",
      "parquet-assignment-instance-student-source"
    ]
    sink: [
      "parquet-assignment-instance-mutated-source",
      "parquet-assignment-instance-deleted-source",
      "parquet-assignment-instance-student-source",
      "redshift-assignment-instance-sink",
      "redshift-assignment-instance-student-sink",
      "delta-assignment-instance-sink",
      "delta-assignment-instance-student-sink"
    ]
  }

  #-------Dim Class And Dim Class User-------
  parquet-class-modified-source = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-class-modified"}
  parquet-class-deleted-source = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-class-deleted"}
  parquet-student-class-association-source = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-student-class-enrollment"}

  parquet-class-modified-sink = ${parquet-source} {path = ${s3.path}"/"${env}"/data/alef-class-modified"}
  parquet-class-deleted-sink = ${parquet-source} {path = ${s3.path}"/"${env}"/data/alef-class-deleted"}
  parquet-student-class-association-sink = ${parquet-source} {path = ${s3.path}"/"${env}"/data/alef-student-class-enrollment"}

  transformed-class-latest-events-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-class-latest-events"}
  transformed-class-created-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-class-created"}
  transformed-class-modified-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-class-modified"}
  transformed-class-dw-id-mapping-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-class-dw-id-mapping"}
  transformed-class-user-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-class-user"}

  redshift-class-stage-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_class"}
  redshift-class-user-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_class_user"}
  redshift-dw-id-mappings-stage-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_dw_id_mappings"}

  delta-class-sink =  ${delta-sink} {"path": ${s3.delta.path}"/"${env}"/alef-class"}
  delta-class-user-sink =  ${delta-sink} {"path": ${s3.delta.path}"/"${env}"/alef-class-user"}

  parquet-class-modified {
    source: [
      "parquet-class-modified-source"
    ]
    sink: [
      "parquet-class-modified-sink"
    ]
  }

  parquet-class-deleted {
    source: [
      "parquet-class-deleted-source"
    ]
    sink: [
      "parquet-class-deleted-sink"
    ]
  }

  parquet-student-class-association {
    source: [
      "parquet-student-class-association-source"
    ]
    sink: [
      "parquet-student-class-association-sink"
    ]
  }

  transform-class-latest-events {
    source: [
      "parquet-class-modified-source",
      "parquet-class-deleted-source"
    ]
    sink: [
      "transformed-class-latest-events-sink"
    ]
  }

  transform-class-latest-events {
    source: [
      "parquet-class-modified-source",
      "parquet-class-deleted-source"
    ]
    sink: [
      "transformed-class-latest-events-sink"
    ]
  }

  transform-class-created {
    source: [
      "transformed-class-latest-events-sink"
    ]
    sink: [
      "transformed-class-created-sink"
    ]
  }

  transform-class-modified {
    source: [
      "transformed-class-latest-events-sink",
      "parquet-class-modified-source",
      "parquet-class-deleted-source"
    ]
    sink: [
      "transformed-class-modified-sink"
    ]
  }

  transform-dw-id-mapping {
    source: [
      "parquet-class-modified-source"
    ]
    sink: [
      "transformed-class-dw-id-mapping-sink"
    ]
  }

  transform-class-user {
    source: [
      "parquet-class-modified-source",
      "parquet-student-class-association-source"
    ]
    sink: [
      "transformed-class-user-sink"
    ]
  }

  redshift-class-created {
    source: [
      "transformed-class-created-sink"
    ]
    sink: [
      "redshift-class-stage-sink"
    ]
  }

  delta-class-created {
    source: [
      "transformed-class-created-sink"
    ]
    sink: [
      "delta-class-sink"
    ]
  }

  redshift-class-modified {
    source: [
      "transformed-class-modified-sink"
    ]
    sink: [
      "redshift-class-stage-sink"
    ]
  }

  delta-class-modified {
    source: [
      "transformed-class-modified-sink"
    ]
    sink: [
      "delta-class-sink"
    ]
  }

  redshift-class-user {
    source: [
      "transformed-class-user-sink"
    ]
    sink: [
      "redshift-class-user-sink"
    ]
  }

  delta-class-teacher-user {
    source: [
      "transformed-class-user-sink"
    ]
    sink: [
      "delta-class-user-sink"
    ]
  }

  delta-class-student-user {
    source: [
      "transformed-class-user-sink"
    ]
    sink: [
      "delta-class-user-sink"
    ]
  }

  redshift-class-dw-id-mapping {
    source: [
      "transformed-class-dw-id-mapping-sink"
    ]
    sink: [
      "redshift-dw-id-mappings-stage-sink"
    ]
  }
  #-------Dim Class And Dim Class User-------


  parquet-content-student-source = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-student-content-assignment"}
  parquet-content-class-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-class-content-assignment"}
  redshift-content-student-assignment-sink = ${redshift} {"dbtable": ${redshift-schema}".dim_content_student_association"}
  redshift-content-student-unassignment-sink = ${redshift} {"dbtable": ${redshift-schema}".dim_content_student_association"}
  redshift-content-class-assignment-sink = ${redshift} {"dbtable": ${redshift-schema}".dim_content_student_association"}
  redshift-content-class-unassignment-sink = ${redshift} {"dbtable": ${redshift-schema}".dim_content_student_association"}
  delta-content-student-assignment-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-content-student-association"}
  delta-content-class-assignment-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-content-student-association"}

  content-student-assignment-dimension {
    source: [
      "parquet-content-student-source",
      "parquet-content-class-source"
    ]
    sink: [
      "parquet-content-student-source",
      "parquet-content-class-source",
      "redshift-content-student-assignment-sink",
      "redshift-content-student-unassignment-sink",
      "redshift-content-class-assignment-sink",
      "redshift-content-class-unassignment-sink",
      "delta-content-student-assignment-sink",
      "delta-content-class-assignment-sink"
    ]
  }

  parquet-lesson-student-source = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-student-lesson-assignment"}
  parquet-lesson-class-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-class-lesson-assignment"}
  redshift-lesson-student-assignment-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_lesson_assignment"}
  redshift-lesson-student-unassignment-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_lesson_assignment"}
  redshift-lesson-class-assignment-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_lesson_assignment"}
  redshift-lesson-class-unassignment-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_lesson_assignment"}
  delta-lesson-student-assignment-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-lesson-assignment"}
  delta-lesson-class-assignment-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-lesson-assignment"}

  lesson-assignment-dimension {
    source: [
      "parquet-lesson-student-source",
      "parquet-lesson-class-source"
    ]
    sink: [
      "parquet-lesson-student-source",
      "parquet-lesson-class-source",
      "redshift-lesson-student-assignment-sink",
      "redshift-lesson-student-unassignment-sink",
      "redshift-lesson-class-assignment-sink",
      "redshift-lesson-class-unassignment-sink",
      "delta-lesson-student-assignment-sink",
      "delta-lesson-class-assignment-sink"
    ]
  }

  parquet-theme-created = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-theme-created"}
  parquet-theme-updated = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-theme-updated"}
  parquet-theme-deleted = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-theme-deleted"}
  redshift-theme-sink = ${redshift} {"dbtable": ${redshift-schema}".dim_theme"}
  delta-theme-sink =  ${delta-sink} {"path": ${s3.delta.path}"/"${env}"/alef-theme"}

  theme-dimension {
    source: [
      "parquet-theme-created",
      "parquet-theme-updated",
      "parquet-theme-deleted"
    ]
    sink: [
      "parquet-theme-created",
      "parquet-theme-updated",
      "parquet-theme-deleted",
      "redshift-theme-sink",
      "delta-theme-sink"
    ]
  }

  parquet-ccl-skill-mutated = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-ccl-skill-mutated"}
  parquet-ccl-skill-deleted = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-ccl-skill-deleted"}
  redshift-ccl-skill-sink = ${redshift} {"dbtable": ${redshift-schema}".dim_ccl_skill"}
  delta-ccl-skill-sink =  ${delta-sink} {"path": ${s3.delta.path}"/"${env}"/alef-ccl-skill"}
  ccl-skill-dimension {
    source: [
      "parquet-ccl-skill-mutated",
      "parquet-ccl-skill-deleted"
    ]
    sink: [
      "parquet-ccl-skill-mutated",
      "parquet-ccl-skill-deleted",
      "redshift-ccl-skill-sink",
      "delta-ccl-skill-sink"
    ]
  }

  parquet-skill-association = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-ccl-skill-linked-unlinked"}
  parquet-skill-association-v2 = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-ccl-skill-linked-unlinked-v2"}
  parquet-skill-category-association = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-ccl-skill-category-link-unlink"}
  redshift-skill-association-sink = ${redshift} {"dbtable": ${redshift-schema}".dim_skill_association"}
  delta-skill-association-sink =  ${delta-sink} {"path": ${s3.delta.path}"/"${env}"/alef-skill-association"}
  skill-association-dimension {
    source: [
      "parquet-skill-association",
      "parquet-skill-association-v2",
      "parquet-skill-category-association"
    ]
    sink: [
      "parquet-skill-association",
      "parquet-skill-association-v2",
      "parquet-skill-category-association",
      "redshift-skill-association-sink",
      "delta-skill-association-sink"
    ]
  }

  parquet-class-schedule = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-class-schedule-slot"}
  redshift-class-schedule-sink = ${redshift} {"dbtable": ${redshift-schema}".dim_class_schedule"}
  delta-class-schedule-sink = ${delta-sink} {"path": ${s3.delta.path}"/"${env}"/alef-class-schedule"}

  class-schedule-dimension {
    source: [
      "parquet-class-schedule"
    ]
    sink: [
      "parquet-class-schedule",
      "redshift-class-schedule-sink",
      "delta-class-schedule-sink"
    ]
  }

  delta-subject-sink = ${delta-sink} {"path": ${s3.delta.path}"/"${env}"/alef-subject"}
  delta-learning-path-sink = ${delta-sink} {"path": ${s3.delta.path}"/"${env}"/alef-learning-path"}
  delta-student-sink = ${delta-sink} {"path": ${s3.delta.path}"/"${env}"/alef-student"}

  parquet-award-resource-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-outcome-awardedStar"}

  parquet-subject-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-school-subjectMutated"}
  parquet-student-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-school-studentMutated"}
  parquet-students-deleted-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-school-studentsDeleted"}
  parquet-student-section-updated-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-school-studentSectionUpdated"}
  parquet-student-enable-disable-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-school-studentEnableDisable"}
  parquet-student-school-grade-move-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-school-studentSchoolGradeMovement"}
  parquet-student-promoted-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-school-studentPromoted"}
  parquet-student-tag-updated-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-school-studentTagUpdated"}
  parquet-authentication-loggedIn-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-iam-auth"}
  parquet-learning-objective-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-base-learningObjectiveMutated"}
  parquet-learning-objective-updated-deleted-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-base-learningObjectiveUpdatedDeleted"}
  parquet-learning-path-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-learning-learning-path"}



  parquet-practice-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-practice-created"}
  parquet-practice-session-started-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-practice-session-started"}
  parquet-practice-session-finished-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-practice-session-finished"}
  parquet-practice-item-session-started-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-practice-item-session-started"}
  parquet-practice-item-session-finished-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-practice-item-session-finished"}
  parquet-practice-item-content-session-started-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-practice-item-content-session-started"}
  parquet-practice-item-content-session-finished-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-practice-item-content-session-finished"}
  parquet-practice-delta-staging-source = ${parquet-source} {"outputMode":"overwrite", "mode":"overwrite", "path": ${s3.path}"/"${env}"/staging/alef-practice-session"}
  parquet-practice-item-delta-staging-source = ${parquet-source} {"outputMode":"overwrite", "mode":"overwrite", "path": ${s3.path}"/"${env}"/staging/alef-practice-item-session"}
  parquet-practice-item-content-delta-staging-source = ${parquet-source} {"outputMode":"overwrite", "mode":"overwrite", "path": ${s3.path}"/"${env}"/staging/alef-practice-item-content-session"}
  parquet-no-skill-content-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-no-skill-content"}


  parquet-lesson-feedback-source = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-lesson-feedback"}
  redshift-lesson-feedback-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_lesson_feedback"}
  delta-lesson-feedback-sink = ${delta-sink} {"path": ${s3.delta.path}"/"${env}"/alef-lesson-feedback"}

  redshift-connection-timeout-min = 5
  redshift-connection-timeout-min = ${?REDSHIFT_CONNECTION_TIMEOUT_MIN}

  redshift-schema: ${?REDSHIFT_SCHEMA}
  fabric-schema: "alef"
  fabric-schema-stage: ${fabric-schema}"_stage"
  fabric-staging-schema: ${fabric-schema}"_stage"
  redshift-staging-schema: ${redshift-schema}"_stage"

  redshift-tenant-dim = ${redshift} {"dbtable": ${redshift-schema}".dim_tenant"}
  redshift-subject-dim = ${redshift} {"dbtable": ${redshift-schema}".dim_subject"}

  redshift-student-dim = ${redshift} {"dbtable": ${redshift-schema}".dim_student"}
  redshift-teacher-dim = ${redshift} {"dbtable": ${redshift-schema}".dim_teacher"}
  redshift-admin-dim = ${fabric} {"dbtable": ${fabric-schema}".dim_admin"}
  redshift-class-schedule-dim = ${redshift} {"dbtable": ${redshift-schema}".dim_class_schedule"}

  redshift-role-dim = ${fabric} {"dbtable": ${fabric-schema}".dim_role"}
  redshift-learning-path-dim = ${redshift} {"dbtable": ${redshift-schema}".dim_learning_path"}
  redshift-award-categories-source = ${redshift} {"dbtable": ${redshift-schema}".dim_award_categories"}
  redshift-user-login-source = ${redshift} {"dbtable": ${redshift-schema}".dim_user_login"}

  redshift-student-rel = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_student"}
  redshift-user-rel = ${fabric} {"dbtable": ${fabric-schema}".rel_user"}

  redshift-star-award-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_star_awarded"}
  redshift-practice-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_practice"}
  delta-practice-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-practice"}
  delta-practice-session-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-practice-session"}

  redshift-no-skill-content-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_skill_content_unavailable"}
  delta-no-skill-content-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-no-skill-content"}

  redshift-practice-session-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_practice_session"}
  redshift-skill-dim = ${redshift} {"dbtable": ${redshift-schema}".dim_skill"}
  redshift-kt-game-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_ktg"}

  csv-curio-student-source = ${csv} {"path": ${s3.path}"/"${env}"/processing/alef-saal-curio-student"}
  csv-curio-teacher-source = ${csv} {"path": ${s3.path}"/"${env}"/processing/alef-saal-curio-teacher"}

  parquet-curio-student-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-saal-curio-student"}
  parquet-curio-teacher-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-saal-curio-teacher"}

  redshift-curio-student-sink = ${redshift} {"dbtable": ${redshift-schema}".curio_student"}
  redshift-curio-teacher-sink = ${redshift} {"dbtable": ${redshift-schema}".curio_teacher"}

  query-limit = 60000
  query-limit = ${?QUERY_LIMIT}
  query-day-threshold = 365
  query-day-threshold = ${?QUERY_DAY_THRESHOLD}

  backup {
    bucketName: ""
    bucketName: ${?BACKUP_BUCKET_NAME}

    bucketKey: ""
    bucketKey: ${?BACKUP_BUCKET_KEY}

    file: ""
    file: ${?BACKUP_FILE}

    aws {
      region: ""
      region: ${?BACKUP_AWS_REGION}

      accessKey: ""
      accessKey: ${?BACKUP_AWS_ACCESS_KEY}

      secretKey: ""
      secretKey: ${?BACKUP_AWS_ACCESS_SECRET}
    }
  }


  # team dimension
  parquet-team-mutated-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-team-mutated"}
  parquet-team-mutated-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-team-mutated"}
  parquet-team-deleted-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-team-deleted"}
  parquet-team-deleted-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-team-deleted"}
  redshift-team-sink = ${redshift} {"dbtable": ${redshift-schema}".dim_team"}
  delta-team-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-team"}
  team-dimension {
    source: [
      "parquet-team-mutated-source",
      "parquet-team-deleted-source"
    ]
    sink: [
      "parquet-team-mutated-sink",
      "parquet-team-deleted-sink",
      "redshift-team-sink",
      "delta-team-sink"
    ]
  }

  # team student association dimension
  parquet-team-members-updated-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-team-members-updated"}
  parquet-team-members-updated-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-team-members-updated"}
  redshift-team-members-updated-sink = ${redshift} {"dbtable": ${redshift-schema}".rel_team_student_association"}
  delta-team-members-associated-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-team-student-association"}
  delta-team-members-unassociated-sink = ${delta-team-members-associated-sink}
  team-student-association-dimension {
    source: [
      "parquet-team-members-updated-source"
    ]
    sink: [
      "parquet-team-members-updated-sink",
      "redshift-team-members-updated-sink",
      "delta-team-members-associated-sink",
      "delta-team-members-unassociated-sink"
    ]
  }

  parquet-lesson-template-created = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-template-created"}
  parquet-lesson-template-updated = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-template-updated"}
  redshift-lesson-template-sink = ${redshift} {"dbtable": ${redshift-schema}".dim_template"}
  delta-lesson-template-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-template"}
  lesson-template-dimension {
    source: [
      "parquet-lesson-template-created",
      "parquet-lesson-template-updated"
    ]
    sink: [
      "parquet-lesson-template-created",
      "parquet-lesson-template-updated",
      "redshift-lesson-template-sink",
      "delta-lesson-template-sink"
    ]
  }

  parquet-question-pool-association = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-question-pool-association"}
  redshift-question-pool-association-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_question_pool_association"}
  delta-question-pool-association-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-question-pool-association"}
  question-pool-association-dimension {
    source: [
      "parquet-question-pool-association",
    ]
    sink: [
      "parquet-question-pool-association",
      "redshift-question-pool-association-sink",
      "delta-question-pool-association-sink"
    ]
  }

  # ccl category dimension
  parquet-category-created-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-category-created"}
  parquet-category-created-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-ccl-category-created"}
  parquet-category-updated-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-category-updated"}
  parquet-category-updated-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-ccl-category-updated"}
  parquet-category-deleted-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-category-deleted"}
  parquet-category-deleted-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-ccl-category-deleted"}
  redshift-category-sink = ${redshift} {"dbtable": ${redshift-schema}".dim_category"}
  delta-category-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-category"}
  category-dimension {
    source: [
      "parquet-category-created-source",
      "parquet-category-updated-source",
      "parquet-category-deleted-source"
    ]
    sink: [
      "parquet-category-created-sink",
      "parquet-category-updated-sink",
      "parquet-category-deleted-sink"
      "delta-category-sink",
      "redshift-category-sink"
    ]
  }

  # ADT Next Question
  parquet-next-question-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-adt-next-question"}
  parquet-next-question-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-adt-next-question"}
  transformed-next-question-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-adt-next-question"}
  redshift-next-question-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_adt_next_question"}
  delta-next-question-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-adt-next-question"}
  transform-adt-next-question {
    source: [
      "parquet-next-question-source"
    ]
    sink: [
      "transformed-next-question-sink"
    ]
  }

  adt-next-question-parquet {
    source: [
        "parquet-next-question-source"
    ]
    sink: [
        "parquet-next-question-sink"
    ]
  }

  redshift-adt-next-question {
    source: [
        "transformed-next-question-sink"
    ]
    sink: [
        "redshift-next-question-sink"
    ]
  }

  delta-adt-next-question {
    source: [
        "transformed-next-question-sink"
    ]
    sink: [
        "delta-next-question-sink"
    ]
  }


  # adt student report fact

    parquet-adt-student-report-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-adt-student-report"}
    parquet-adt-student-report-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-adt-student-report"}
    adt-student-report-transformed-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-adt-student-report"}
    redshift-adt-student-report-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_adt_student_report"}
    delta-adt-student-report-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-adt-student-report"}

    adt-student-report-transform {
      source: [
        "parquet-adt-student-report-source"
      ]
      sink: [
      "adt-student-report-transformed-sink"
      ]
    }

    adt-student-report-parquet {
      source: [
          "parquet-adt-student-report-source"
      ]
      sink: [
          "parquet-adt-student-report-sink"
      ]
    }

    redshift-adt-student-report {
      source: [
          "adt-student-report-transformed-sink"
      ]
      sink: [
          "redshift-adt-student-report-sink"
      ]
    }

    delta-adt-student-report {
      source: [
          "adt-student-report-transformed-sink"
      ]
      sink: [
          "delta-adt-student-report-sink"
      ]
    }

  # Content session
  parquet-learning-content-started-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-learning-content-started"}
  parquet-learning-content-skipped-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-learning-content-skipped"}
  parquet-learning-content-finished-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-learning-content-finished"}

  parquet-learning-content-started-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-learning-content-started"}
  parquet-learning-content-skipped-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-learning-content-skipped"}
  parquet-learning-content-finished-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-learning-content-finished"}

  redshift-learning-content-session-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_content_session"}

  delta-learning-content-session-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-content-session"}

  learning-content-session-fact {
      source: [
        "parquet-learning-content-started-source",
        "parquet-learning-content-skipped-source",
        "parquet-learning-content-finished-source"
      ]
      sink: [
        "parquet-learning-content-started-sink",
        "parquet-learning-content-skipped-sink",
        "parquet-learning-content-finished-sink"

        "redshift-learning-content-session-sink",

        "delta-learning-content-session-sink",
      ]
  }

  # Teacher - Guardian feedback dimension
  parquet-teacher-feedback-sent-source    = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-teacher-feedback-sent"}
  parquet-teacher-message-sent-source     = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-teacher-message-sent"}
  parquet-guardian-feedback-read-source   = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-guardian-feedback-read"}
  parquet-guardian-message-sent-source    = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-guardian-message-sent"}
  parquet-teacher-message-deleted-source  = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-teacher-message-deleted"}
  parquet-teacher-feedback-deleted-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-teacher-feedback-deleted"}

  parquet-teacher-feedback-sent-sink    = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-teacher-feedback-sent"}
  parquet-teacher-message-sent-sink     = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-teacher-message-sent"}
  parquet-guardian-feedback-read-sink   = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-guardian-feedback-read"}
  parquet-guardian-message-sent-sink    = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-guardian-message-sent"}
  parquet-teacher-message-deleted-sink  = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-teacher-message-deleted"}
  parquet-teacher-feedback-deleted-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-teacher-feedback-deleted"}

  redshift-teacher-feedback-thread-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_teacher_feedback_thread"}

  delta-teacher-feedback-thread-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-teacher-feedback-thread"}

  teacher-guardian-feedback-dimension {
        source: [
          "parquet-teacher-feedback-sent-source",
          "parquet-teacher-message-sent-source",
          "parquet-guardian-feedback-read-source",
          "parquet-guardian-message-sent-source",
          "parquet-teacher-message-deleted-source",
          "parquet-teacher-feedback-deleted-source"
        ]
        sink: [
          "parquet-teacher-feedback-sent-sink",
          "parquet-teacher-message-sent-sink",
          "parquet-guardian-feedback-read-sink"
          "parquet-guardian-message-sent-sink"
          "parquet-teacher-message-deleted-sink"
          "parquet-teacher-feedback-deleted-sink"

          "redshift-teacher-feedback-thread-sink",

          "delta-teacher-feedback-thread-sink",
        ]
    }

  # Class Category Dimension
  parquet-class-category-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-class-category"}

  parquet-class-category-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-class-category"}
  redshift-class-category-created-sink = ${redshift} {"dbtable": ${redshift-schema}".dim_class_category"}
  redshift-class-category-updated-sink = ${redshift-class-category-created-sink}
  redshift-class-category-deleted-sink = ${redshift-class-category-created-sink}

  delta-class-category-created-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-class-category"}
  delta-class-category-updated-sink = ${delta-class-category-created-sink}
  delta-class-category-deleted-sink = ${delta-class-category-created-sink}

  class-category-dimension {
    source: [
     "parquet-class-category-source"
    ]
    sink: [
      "parquet-class-category-sink",
      "redshift-class-category-created-sink",
      "redshift-class-category-updated-sink",
      "redshift-class-category-deleted-sink",
      "delta-class-category-created-sink",
      "delta-class-category-updated-sink",
      "delta-class-category-deleted-sink"
    ]
  }

  # interim checkpoint dimension
  parquet-interim-checkpoint-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/topic=interimCheckpoints-events/eventType=InterimCheckpointRulesCreatedEvent"}
  parquet-interim-checkpoint-updated-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/topic=interimCheckpoints-events/eventType=InterimCheckpointRulesUpdatedEvent"}
  parquet-published-checkpoint-deleted-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/topic=alef.authoring.checkpoint.changelog/eventType=PublishedCheckpointDeletedEvent"}
  parquet-interim-checkpoint-deleted-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/topic=alef.authoring.checkpoint.changelog/eventType=InterimCheckpointDeletedEvent"}
  parquet-interim-checkpoint-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/topic=interimCheckpoints-events/eventType=InterimCheckpointRulesCreatedEvent"}
  parquet-interim-checkpoint-updated-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/topic=interimCheckpoints-events/eventType=InterimCheckpointRulesUpdatedEvent"}
  parquet-published-checkpoint-deleted-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/topic=alef.authoring.checkpoint.changelog/eventType=PublishedCheckpointDeletedEvent"}
  parquet-interim-checkpoint-deleted-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/topic=alef.authoring.checkpoint.changelog/eventType=InterimCheckpointDeletedEvent"}
  redshift-interim-checkpoint-sink = ${redshift} {"dbtable": ${redshift-schema}".dim_interim_checkpoint"}
  redshift-interim-checkpoint-deleted-sink = ${redshift-interim-checkpoint-sink}
  redshift-ic-lesson-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_ic_lesson_association"}
  redshift-interim-checkpoint-rules-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_interim_checkpoint_rules"}
  delta-interim-checkpoint-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-interim-checkpoint"}
  delta-interim-checkpoint-delete-sink = ${delta-interim-checkpoint-sink}
  delta-ic-lesson-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-interim-checkpoint-lesson"}
  delta-interim-checkpoint-rules-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-interim-checkpoint-rules"}

  interim-checkpoint-dimension {
        source: [
            "parquet-interim-checkpoint-source",
            "parquet-interim-checkpoint-updated-source",
            "parquet-published-checkpoint-deleted-source",
            "parquet-interim-checkpoint-deleted-source"
        ]
        sink: [
            "parquet-interim-checkpoint-sink",
            "parquet-interim-checkpoint-updated-sink",
            "parquet-interim-checkpoint-deleted-sink",
            "parquet-published-checkpoint-deleted-sink",
            "redshift-interim-checkpoint-sink",
            "redshift-interim-checkpoint-deleted-sink",
            "redshift-ic-lesson-sink",
            "redshift-interim-checkpoint-rules-sink",
            "delta-ic-lesson-sink",
            "delta-interim-checkpoint-rules-sink",
            "delta-interim-checkpoint-sink",
            "delta-interim-checkpoint-delete-sink"
        ]
  }

  # fact weekly goal
  parquet-source-overwrite = ${parquet-source} {"outputMode":"overwrite" , "mode":"overwrite"}

  parquet-weekly-goal-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-student-weekly-goal"}
  weekly-goal-data-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-student-weekly-goal"}
  weekly-goal-data {
        source: [
            "parquet-weekly-goal-source"
        ]
        sink: [
            "weekly-goal-data-sink"
        ]
  }

  parquet-weekly-goal-star-earned-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-student-weekly-goal-star"}
  weekly-goal-star-earned-data-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-student-weekly-goal-star"}
  parquet-weekly-goal-star-earned-data {
        source: [
            "parquet-weekly-goal-star-earned-source"
        ]
        sink: [
            "weekly-goal-star-earned-data-sink"
        ]
  }

  parquet-weekly-goal-staging-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/staging/alef-student-weekly-goal"}
  parquet-weekly-goal-transformed-source = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-student-weekly-goal"}
  parquet-weekly-goal-staging-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/staging/alef-student-weekly-goal"}
  weekly-goal-completed-staging {
    source: [
      "parquet-weekly-goal-source",
      "parquet-weekly-goal-staging-source",
      "parquet-weekly-goal-transformed-source"
    ]
    sink: [
      "parquet-weekly-goal-staging-sink"
    ]
  }

  parquet-weekly-goal-star-earned-staging-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/staging/alef-student-weekly-goal-star"}
  parquet-weekly-goal-star-earned-staging-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/staging/alef-student-weekly-goal-star"}
  weekly-goal-star-earned-staging {
    source: [
      "parquet-weekly-goal-star-earned-source",
      "parquet-weekly-goal-star-earned-staging-source",
      "parquet-weekly-goal-transformed-source"
    ]
    sink: [
      "parquet-weekly-goal-star-earned-staging-sink"
    ]
  }

  parquet-weekly-goal-transform {
        source: [
            "parquet-weekly-goal-source",
            "parquet-weekly-goal-staging-source",
            "parquet-weekly-goal-star-earned-source",
            "parquet-weekly-goal-star-earned-staging-source"
        ]
        sink: [
            "parquet-weekly-goal-transformed-source"
        ]
  }

  redshift-weekly-goal-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_weekly_goal"}
  redshift-weekly-goal {
        source: [
            "parquet-weekly-goal-transformed-source"
        ]
        sink: [
            "redshift-weekly-goal-sink"
        ]
  }

  delta-weekly-goal-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-weekly-goal"}
  delta-weekly-goal {
        source: [
            "parquet-weekly-goal-transformed-source"
        ]
        sink: [
            "delta-weekly-goal-sink"
        ]
  }

  parquet-ccl-organization-mutated-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-organization-mutated"}
  parquet-ccl-organization-mutated-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-ccl-organization-mutated"}
  organization-transformed-created-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-ccl-organization-mutated/created"}
  organization-transformed-updated-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-ccl-organization-mutated/updated"}
  organization-transformed-created-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/transformed/alef-ccl-organization-mutated/created"}
  organization-transformed-updated-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/transformed/alef-ccl-organization-mutated/updated"}
  delta-organization-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-ccl-organization"}
  redshift-organization-sink = ${redshift} {"dbtable": ${redshift-schema}".dim_organization"}

  parquet-organization {
  source: [
          "parquet-ccl-organization-mutated-source"
      ]
      sink: [
         "parquet-ccl-organization-mutated-sink",
      ]
  }

  organization-transform {
    source: [
        "parquet-ccl-organization-mutated-source"
    ]
    sink: [
       "organization-transformed-created-sink",
       "organization-transformed-updated-sink"
    ]
  }

  delta-organization-created {
    source: [
            "organization-transformed-created-source"
        ]
        sink: [
           "delta-organization-sink",
        ]
  }

  delta-organization-updated {
    source: [
            "organization-transformed-updated-source"
        ]
        sink: [
           "delta-organization-sink",
        ]
  }

  redshift-organization-create {
  source: [
              "organization-transformed-created-source"
          ]
          sink: [
             "redshift-organization-sink",
          ]
  }

  redshift-organization-update {
  source: [
              "organization-transformed-updated-source"
          ]
          sink: [
             "redshift-organization-sink",
          ]
  }

  parquet-level-completed-source = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-level-completed"}
  parquet-level-completed-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-level-completed"}
  level-completed-transformed-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-level-completed"}
  level-completed-transformed-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/transformed/alef-level-completed"}
  delta-level-completed-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-level-completed"}
  redshift-level-completed-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_level_completed"}

  parquet-level-completed {
  source: [
          "parquet-level-completed-source"
      ]
      sink: [
         "parquet-level-completed-sink"
      ]
  }

  transform-level-completed {
    source: [
        "parquet-level-completed-source"
    ]
    sink: [
       "level-completed-transformed-sink"
    ]
  }

  delta-level-completed {
    source: [
           "level-completed-transformed-source"
        ]
        sink: [
           "delta-level-completed-sink"
        ]
  }

  redshift-level-completed {
  source: [
             "level-completed-transformed-source"
          ]
          sink: [
             "redshift-level-completed-sink"
          ]
  }


  parquet-pathway-activity-completed-source = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-pathway-activity-completed"}
  parquet-pathway-activity-completed-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-pathway-activity-completed"}
  pathway-activity-completed-transformed-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-pathway-activity-completed"}
  pathway-activity-completed-transformed-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/transformed/alef-pathway-activity-completed"}
  delta-pathway-activity-completed-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-pathway-activity-completed"}
  redshift-pathway-activity-completed-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_pathway_activity_completed"}

  parquet-pathway-activity-completed {
  source: [
         "parquet-pathway-activity-completed-source"
      ]
      sink: [
         "parquet-pathway-activity-completed-sink"
      ]
  }

  transform-pathway-activity-completed {
    source: [
       "parquet-pathway-activity-completed-source"
    ]
    sink: [
       "pathway-activity-completed-transformed-sink"
    ]
  }

  delta-pathway-activity-completed {
    source: [
       "pathway-activity-completed-transformed-source"
    ]
    sink: [
       "delta-pathway-activity-completed-sink"
    ]
    entity-prefix: "fpac"
    # use match-conditions to handle NULL value cases, for delta uses <=>
    match-conditions: """delta.fpac_pathway_id <=> events.fpac_pathway_id AND delta.fpac_level_id <=> events.fpac_level_id
        AND delta.fpac_student_id <=> events.fpac_student_id AND delta.fpac_attempt <=> events.fpac_attempt
        AND delta.fpac_created_time = events.fpac_created_time AND delta.fpac_score <=> events.fpac_score"""
  }

  redshift-pathway-activity-completed {
    source: [
       "pathway-activity-completed-transformed-source"    ]
    sink: [
       "redshift-pathway-activity-completed-sink"
    ]
    entity-prefix: "fpac"
    is-staging: true
    table-name: "staging_pathway_activity_completed"
    exclude-columns: ["eventdate"]
    column-cast: {
        fpac_date_dw_id: "long"
    }
    # use match-conditions to handle NULL value cases, for redshift uses NVL
    match-conditions: """NVL(fpac_pathway_id, '') = NVL(t.fpac_pathway_id, '') AND NVL(fpac_level_id, '') = NVL(t.fpac_level_id, '')
        AND NVL(fpac_student_id, '') = NVL(t.fpac_student_id, '') AND NVL(fpac_attempt, -1) = NVL(t.fpac_attempt, -1)
        AND fpac_created_time = t.fpac_created_time AND NVL(fpac_score, -1) = NVL(t.fpac_score, -1)"""
  }


  parquet-levels-recommended-source = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-levels-recommended"}
  parquet-levels-recommended-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-levels-recommended"}
  levels-recommended-transformed-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/transformed/alef-levels-recommended"}
  levels-recommended-transformed-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-levels-recommended"}
  delta-levels-recommended-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-levels-recommended"}
  redshift-levels-recommended-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_levels_recommended"}

  parquet-levels-recommended {
  source: [
          "parquet-levels-recommended-source"
      ]
      sink: [
         "parquet-levels-recommended-sink",
      ]
  }

  transform-levels-recommended {
    source: [
        "parquet-levels-recommended-source"
    ]
    sink: [
       "levels-recommended-transformed-sink"
    ]
  }

  delta-levels-recommended {
    source: [
           "levels-recommended-transformed-source"
        ]
        sink: [
           "delta-levels-recommended-sink",
        ]
  }

  redshift-levels-recommended {
  source: [
             "levels-recommended-transformed-source"
          ]
          sink: [
             "redshift-levels-recommended-sink"
          ]
  }

  parquet-student-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-school-studentMutated"}
  parquet-students-deleted-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-school-studentsDeleted"}
  parquet-student-section-updated-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-school-studentSectionUpdated"}
  parquet-student-enable-disable-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-school-studentEnableDisable"}
  parquet-student-school-grade-move-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-school-studentSchoolGradeMovement"}
  parquet-student-promoted-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-school-studentPromoted"}
  parquet-student-tag-updated-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-school-studentTagUpdated"}
  transform-student-rel = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-student"}
  transform-user-rel = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-rel-student"}

  parquet-student {
     source: [
       "parquet-student-source",
       "parquet-students-deleted-source",
       "parquet-student-section-updated-source",
       "parquet-student-enable-disable-source",
       "parquet-student-school-grade-move-source",
       "parquet-student-promoted-source",
       "parquet-student-tag-updated-source"
     ]
     sink: [
        "parquet-student-sink",
        "parquet-students-deleted-sink",
        "parquet-student-section-updated-sink",
        "parquet-student-enable-disable-sink",
        "parquet-student-school-grade-move-sink",
        "parquet-student-promoted-sink",
        "parquet-student-tag-updated-sink"
     ]
  }

 transform-student {
   source: [
     "parquet-student-source",
     "parquet-students-deleted-source",
     "parquet-student-section-updated-source",
     "parquet-student-enable-disable-source",
     "parquet-student-school-grade-move-source",
     "parquet-student-promoted-source",
     "parquet-student-tag-updated-source"
   ]
   sink: [
      "transform-student-rel"
   ]
 }

 transform-rel-user-student {
   source: [
     "parquet-student-source"
   ]
   sink: [
      "transform-user-rel"
   ]
 }

 redshift-rel-user-student {
   source: [
     "transform-user-rel"
   ]
   sink: [
     "redshift-user-rel"
   ]
 }

 redshift-student {
   source: [
     "transform-student-rel"
   ]
   sink: [
     "redshift-student-rel"
   ]
 }

 delta-student {
   source: [
     "transform-student-rel"
   ]
   sink: [
      "delta-student-sink"
   ]
 }

  parquet-content-repository-mutated-source= ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-ccl-content-repository-mutated"}
  parquet-content-repository-mutated-sink= ${parquet-source} {path = ${s3.path}"/"${env}"/data/alef-ccl-content-repository-mutated/ContentRepositoryCreatedEvent"}
  content-repository-dw-id-mapping-sink=${parquet-source-overwrite} {path = ${s3.path}"/"${env}"/transformed/alef-ccl-content-repository-mutated/dw-id-mapping"}
  content-repository-transformed-created-sink=${parquet-source-overwrite} {path = ${s3.path}"/"${env}"/transformed/alef-ccl-content-repository-mutated/created"}
  content-repository-transformed-created-source=${parquet-source} {path = ${s3.path}"/"${env}"/transformed/alef-ccl-content-repository-mutated/created"}
  content-repository-delta-sink=${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-ccl-content-repository"}
  content-repository-redshift-sink=${redshift} {"dbtable": ${redshift-staging-schema}".rel_content_repository"}


  parquet-content-repository {
    source: [
        "parquet-content-repository-mutated-source"
    ]
    sink: [
        "parquet-content-repository-mutated-sink"
    ]
  }

    redshift-content-repository-dw-id-mapping {
    source: [
             "content-repository-dw-id-mapping-source"
            ]
            sink: [
              "content-repository-dw-id-mapping-redshift-sink"
            ]
    }

  content-repository-transform {
  source: [
                   "parquet-ccl-organization-mutated-source"
                ]
                sink: [
                   "content-repository-transformed-created-sink",
                   "content-repository-dw-id-mapping-sink"
                ]
  }

  content-repository-delta-created-service {
  source: [
                     "content-repository-transformed-created-source"
                  ]
                  sink: [
                     "content-repository-delta-sink"
                  ]
  }


  content-repository-redshift-created-service {
    source: [
             "content-repository-transformed-created-source"
             ]
             sink: [
                "content-repository-redshift-sink"
             ]
  }


  content-repository-dw-id-mapping-source=${parquet-source} {path = ${s3.path}"/"${env}"/transformed/alef-ccl-content-repository-mutated/dw-id-mapping"}
  content-repository-dw-id-mapping-redshift-sink=${redshift} {"dbtable": ${redshift-staging-schema}".rel_dw_id_mappings"}



  redshift-dw-id-mapping-source = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_dw_id_mappings"}
  redshift-content-repository-source = ${redshift} {"dbtable": ${redshift-schema}".dim_content_repository"}

  # course
  parquet-course-published-source = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-ccl-course-published/*"}
  parquet-course-published-sink = ${parquet-source} {path = ${s3.path}"/"${env}"/data/alef-ccl-course-published"}
  parquet-course-published {
      source: [
          "parquet-course-published-source"
      ]
      sink: [
          "parquet-course-published-sink"
      ]
  }

  parquet-course-details-updated-source = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-ccl-course-settings-updated/*"}
  parquet-course-details-updated-sink = ${parquet-source} {path = ${s3.path}"/"${env}"/data/alef-ccl-course-settings-updated"}
  parquet-course-details-updated {
      source: [
          "parquet-course-details-updated-source"
      ]
      sink: [
          "parquet-course-details-updated-sink"
      ]
  }

  parquet-course-deleted-source = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-ccl-course-deleted/*"}
  parquet-course-deleted-sink = ${parquet-source} {path = ${s3.path}"/"${env}"/data/alef-ccl-course-deleted"}
  parquet-course-deleted {
      source: [
          "parquet-course-deleted-source"
      ]
      sink: [
          "parquet-course-deleted-sink"
      ]
  }

  parquet-course-dw-id-mapping-transformed-source = ${parquet-source-overwrite} {path = ${s3.path}"/"${env}"/transformed/alef-ccl-course/dw-id-mapping"}
  course-dw-id-mapping-transform {
      source: [
          "parquet-course-draft-created-source"
      ]
      sink: [
          "parquet-course-dw-id-mapping-transformed-source"
      ]
  }

  parquet-course-mutated-transformed-source = ${parquet-source-overwrite} {path = ${s3.path}"/"${env}"/transformed/alef-ccl-course/mutated"}
  course-mutated-transform {
    source: [
      "parquet-course-published-source",
      "parquet-course-details-updated-source",
      "delta-course-sink",
    ]
    sink: [
      "parquet-course-mutated-transformed-source"
    ]
  }


  parquet-course-deleted-transformed-source = ${parquet-source-overwrite} {path = ${s3.path}"/"${env}"/transformed/alef-ccl-course/deleted"}
  course-deleted-transform {
      source: [
          "parquet-course-deleted-source",
      ]
      sink: [
          "parquet-course-deleted-transformed-source"
      ]
  }

  redshift-course-dw-id-mapping-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_dw_id_mappings"}
  redshift-course-dw-id-mapping-service {
      source: [
          "parquet-course-dw-id-mapping-transformed-source"
      ]
      sink: [
          "redshift-course-dw-id-mapping-sink"
      ]
  }

  redshift-course-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_course"}

  redshift-course-mutated-service {
      source: [
          "parquet-course-mutated-transformed-source"
      ]
      sink: [
          "redshift-course-sink"
      ]
  }

  redshift-course-deleted-service {
      source: [
          "parquet-course-deleted-transformed-source"
      ]
      sink: [
          "redshift-course-sink"
      ]
  }


  delta-course-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-ccl-course"}

  delta-course-mutated-service {
      source: [
          "parquet-course-mutated-transformed-source"
      ]
      sink: [
          "delta-course-sink"
      ]
  }

  delta-course-deleted-service {
      source: [
          "parquet-course-deleted-transformed-source"
      ]
      sink: [
          "delta-course-sink"
      ]
  }

  parquet-course-content-repository-transformed-source = ${parquet-source-overwrite} {path = ${s3.path}"/"${env}"/transformed/alef-ccl-course/content-repository"}
  parquet-course-content-repository-transformed-sink = ${parquet-course-content-repository-transformed-source}
  ccl-content-repository-material-attached-parquet = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/ccl-content-repository-material-attached"}
  ccl-content-repository-material-detached-parquet = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/ccl-content-repository-material-detached"}
  ccl-content-repository-material-attached-parquet-sink = ${parquet-source} {path = ${s3.path}"/"${env}"/data/ccl-content-repository-material-attached"}
  ccl-content-repository-material-detached-parquet-sink = ${parquet-source} {path = ${s3.path}"/"${env}"/data/ccl-content-repository-material-detached"}
  course-content-repository-transform {
      source: [
          "parquet-course-published-source",
          "ccl-content-repository-material-attached-parquet",
          "ccl-content-repository-material-detached-parquet"
      ]
      sink: [
          "parquet-course-content-repository-transformed-sink"
      ]
  }

   content-repository-material-attach-parquet {
      source: [
              "ccl-content-repository-material-attached-parquet",
          ]
          sink: [
              "ccl-content-repository-material-attached-parquet-sink"
          ]
   }

    content-repository-material-detach-parquet {
       source: [
               "ccl-content-repository-material-detached-parquet",
           ]
           sink: [
               "ccl-content-repository-material-detached-parquet-sink"
           ]
    }

  redshift-course-content-repository-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_course_content_repository_association"}
  redshift-course-content-repository {
      source: [
          "parquet-course-content-repository-transformed-source"
      ]
      sink: [
          "redshift-course-content-repository-sink"
      ]
  }

  delta-course-content-repository-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-ccl-course-content-repository"}
  delta-course-content-repository {
      source: [
          "parquet-course-content-repository-transformed-source"
      ]
      sink: [
          "delta-course-content-repository-sink"
      ]
  }

  parquet-course-curriculum-created-transformed-source = ${parquet-source} {path = ${s3.path}"/"${env}"/transformed/alef-ccl-course/curriculum-created"}
  parquet-course-curriculum-created-transformed-sink = ${parquet-course-curriculum-created-transformed-source}
  course-curriculum-created-transform {
      source: [
          "parquet-course-published-source"
      ]
      sink: [
          "parquet-course-curriculum-created-transformed-sink"
      ]
  }

  redshift-course-curriculum-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_course_curriculum_association"}
  redshift-course-curriculum-created {
      source: [
          "parquet-course-curriculum-created-transformed-source"
      ]
      sink: [
          "redshift-course-curriculum-sink"
      ]
  }

  delta-course-curriculum-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-ccl-course-curriculum"}
  delta-course-curriculum-created {
      source: [
          "parquet-course-curriculum-created-transformed-source"
      ]
      sink: [
          "delta-course-curriculum-sink"
      ]
  }

  parquet-course-curriculum-mutated-transformed-source = ${parquet-source} {path = ${s3.path}"/"${env}"/transformed/alef-ccl-course/curriculum-mutated"}
  parquet-course-curriculum-mutated-transformed-sink = ${parquet-source-overwrite} {path = ${s3.path}"/"${env}"/transformed/alef-ccl-course/curriculum-mutated"}

  redshift-course-curriculum-mutated {
      source: [
          "parquet-course-curriculum-mutated-transformed-source"
      ]
      sink: [
          "redshift-course-curriculum-sink"
      ]
  }

  delta-course-curriculum-mutated {
      source: [
          "parquet-course-curriculum-mutated-transformed-source"
      ]
      sink: [
          "delta-course-curriculum-sink"
      ]
  }

  course-curriculum-mutated-transform {
      source: [
        "parquet-course-published-source",
        "parquet-course-details-updated-source",
        "delta-course-sink",
      ]
      sink: [
        "parquet-course-curriculum-mutated-transformed-sink"
      ]
  }

  #course_activity_container

  parquet-container-published-source = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-ccl-container-published-with-course/*"}
  parquet-container-published-sink = ${parquet-source} {path = ${s3.path}"/"${env}"/data/alef-ccl-container-published-with-course/*"}
  parquet-container-added-source = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-ccl-published-container-added-in-course/*"}
  parquet-container-added-sink = ${parquet-source} {path = ${s3.path}"/"${env}"/data/alef-ccl-published-container-added-in-course/*"}
  parquet-container-updated-source = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-ccl-published-container-updated-in-course/*"}
  parquet-container-updated-sink = ${parquet-source} {path = ${s3.path}"/"${env}"/data/alef-ccl-published-container-updated-in-course/*"}
  parquet-container-deleted-source = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-ccl-published-container-deleted-in-course/*"}
  parquet-container-deleted-sink = ${parquet-source} {path = ${s3.path}"/"${env}"/data/alef-ccl-published-container-deleted-in-course/*"}
  parquet-container-mutated-transformed-source = ${parquet-source} {path = ${s3.path}"/"${env}"/transformed/alef-ccl-container/mutated"}
  parquet-container-mutated-transformed-sink = ${parquet-source-overwrite} {path = ${s3.path}"/"${env}"/transformed/alef-ccl-container/mutated"}
  parquet-container-dw-id-mapping-transformed-sink = ${parquet-source-overwrite} {path = ${s3.path}"/"${env}"/transformed/alef-ccl-container/dw-id-mapping"}
  parquet-container-dw-id-mapping-transformed-source = ${parquet-source} {path = ${s3.path}"/"${env}"/transformed/alef-ccl-container/dw-id-mapping"}
  parquet-container-grade-transformed-sink = ${parquet-source-overwrite} {path = ${s3.path}"/"${env}"/transformed/alef-ccl-container/grade-association"}
  parquet-container-domain-transformed-sink = ${parquet-source-overwrite} {path = ${s3.path}"/"${env}"/transformed/alef-ccl-container/domain-association"}
  parquet-container-grade-transformed-source = ${parquet-source} {path = ${s3.path}"/"${env}"/transformed/alef-ccl-container/grade-association"}
  parquet-container-domain-transformed-source = ${parquet-source} {path = ${s3.path}"/"${env}"/transformed/alef-ccl-container/domain-association"}
  delta-course-activity-container-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-ccl-course-activity-container"}
  delta-course-activity-container-grade-association-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-ccl-course-activity-container-grade-association"}
  delta-course-activity-container-domain-association-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-ccl-course-activity-container-domain"}
  redshift-course-activity-container-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_course_activity_container"}
  redshift-course-activity-container-grade-association-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_course_activity_container_grade_association"}
  redshift-course-activity-container-domain-association-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_course_activity_container_domain"}
  redshift-course-activity-container-dw-id-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_dw_id_mappings"}

  container-published-parquet {
        source: [
            "parquet-container-published-source"
        ]
        sink: [
            "parquet-container-published-sink"
        ]
      }
    container-added-parquet {
        source: [
            "parquet-container-added-source"
        ]
        sink: [
            "parquet-container-added-sink"
        ]
      }
    container-updated-parquet {
        source: [
            "parquet-container-updated-source"
        ]
        sink: [
            "parquet-container-updated-sink"
        ]
      }
    container-deleted-parquet {
        source: [
            "parquet-container-deleted-source"
        ]
        sink: [
            "parquet-container-deleted-sink"
        ]
      }

  container-mutated-transform {
      source: [
        "parquet-container-published-source",
        "parquet-container-added-source",
        "parquet-container-updated-source",
        "parquet-container-deleted-source"
      ]
      sink: [
        "parquet-container-mutated-transformed-sink"
      ]
  }

  container-domain-transform {
      source: [
          "parquet-container-published-source",
          "parquet-container-added-source",
          "parquet-container-updated-source"
      ]
      sink: [
          "parquet-container-domain-transformed-sink"
      ]
  }

  container-grade-transform {
    source: [
        "parquet-container-published-source",
        "parquet-container-added-source",
        "parquet-container-updated-source"
    ]
    sink: [
        "parquet-container-grade-transformed-sink"
    ]
  }

  container-dw-id-mapping-transform {
      source: [
        "parquet-container-published-source",
        "parquet-container-added-source"
      ]
      sink: [
        "parquet-container-dw-id-mapping-transformed-sink"
      ]
  }

  delta-course-activity-container {
    source: [
            "parquet-container-mutated-transformed-source"
          ]
          sink: [
           "delta-course-activity-container-sink"
          ]
  }

  delta-course-activity-container-grade-association {
    source: "parquet-container-grade-transformed-source"
    sink: [
        "delta-course-activity-container-grade-association-sink"
    ]
    unique-ids: ["cacga_container_id"]
    match-conditions: "delta.cacga_container_id = events.cacga_container_id"
    inactive_status_value: 4
  }

  delta-course-activity-container-domain-association {
      source: "parquet-container-domain-transformed-source"
      sink: [
          "delta-course-activity-container-domain-association-sink"
      ]
      unique-ids: ["cacd_container_id"]
      match-conditions: "delta.cacd_container_id = events.cacd_container_id"
      inactive_status_value: 4
    }

  redshift-course-activity-container {
    source: [
                "parquet-container-mutated-transformed-source"
              ]
      sink: [
       "redshift-course-activity-container-sink"
      ]
  }

  redshift-course-activity-container-grade-association {
    source: "parquet-container-grade-transformed-source"
    sink: [
        "redshift-course-activity-container-grade-association-sink"
    ]
    unique-ids: ["cacga_container_id"]
    inactive_status_value: 4
    is_staging_sink: true
  }

  redshift-course-activity-container-domain-association {
      source: "parquet-container-domain-transformed-source"
      sink: [
          "redshift-course-activity-container-domain-association-sink"
      ]
      unique-ids: ["cacd_container_id"]
      inactive_status_value: 4
      is_staging_sink: true
    }

  redshift-container-dw-id-mapping {
      source: [
        "parquet-container-dw-id-mapping-transformed-source"
      ]
      sink: [
        "redshift-course-activity-container-dw-id-sink"
      ]
  }

  parquet-course-published-source = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-ccl-course-published/*"}
  parquet-course-updated-source = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-ccl-course-settings-updated/*"}
  parquet-course-grade-transformed-sink = ${parquet-source-overwrite} {path = ${s3.path}"/"${env}"/transformed/alef-ccl-course-grade/"}
  parquet-course-grade-transformed-source = ${parquet-source} {path = ${s3.path}"/"${env}"/transformed/alef-ccl-course-grade/"}
  parquet-course-subject-transformed-sink = ${parquet-source-overwrite} {path = ${s3.path}"/"${env}"/transformed/alef-ccl-course-subject/"}
  parquet-course-subject-transformed-source = ${parquet-source} {path = ${s3.path}"/"${env}"/transformed/alef-ccl-course-subject/"}
  course-subject-redshift-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_course_subject_association"}
  course-grade-redshift-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_course_grade_association"}
  course-subject-delta-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-course-subject-association"}
  course-grade-delta-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-course-grade-association"}

  parquet-pathway-published-source = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-ccl-pathway-published/*"}
  parquet-pathway-updated-source = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-ccl-pathway-details-updated/*"}
  parquet-pathway-grade-transformed-sink = ${parquet-source-overwrite} {path = ${s3.path}"/"${env}"/transformed/alef-ccl-pathway-grade/"}
  parquet-pathway-grade-transformed-source = ${parquet-source} {path = ${s3.path}"/"${env}"/transformed/alef-ccl-pathway-grade/"}
  parquet-pathway-subject-transformed-sink = ${parquet-source-overwrite} {path = ${s3.path}"/"${env}"/transformed/alef-ccl-pathway-subject/"}
  parquet-pathway-subject-transformed-source = ${parquet-source} {path = ${s3.path}"/"${env}"/transformed/alef-ccl-pathway-subject/"}

    pathway-subject-mutated-transform {
             source: ["parquet-pathway-published-source", "parquet-pathway-updated-source"]
             sink: ["parquet-pathway-subject-transformed-sink"]
             key: "dim_pathway_subject_association"
             event-name: ["PathwayPublishedEvent", "PathwayDetailsUpdatedEvent"]
             colsMap: {
                 "id" : "ps_pathway_id",
                 "subjectIds" : "ps_subject_id",
                 "ps_status" : "ps_status",
                 "occurredOn" : "occurredOn"
             }
             entity-prefix: "ps"
             colToExplode: "subjectIds"
    }

    pathway-grade-mutated-transform {
          source: ["parquet-pathway-published-source", "parquet-pathway-updated-source"]
          sink: ["parquet-pathway-grade-transformed-sink"]
          key: "dim_pathway_grade_association"
          event-name: ["PathwayPublishedEvent", "PathwayDetailsUpdatedEvent"]
          colsMap: {
              "id" : "pg_pathway_id",
              "gradeIds" : "pg_grade_id",
              "pg_status" : "pg_status",
              "occurredOn" : "occurredOn"
          }
          entity-prefix: "pg"
          colToExplode: "gradeIds"
      }

  course-grade-mutated-transform {
      source: ["parquet-course-published-source", "parquet-course-updated-source"]
      sink: ["parquet-course-grade-transformed-sink"]
      key: "dim_course_grade_association"
      event-name: ["CoursePublishedEvent", "CourseSettingsUpdatedEvent"]
      colsMap: {
          "id" : "cg_course_id",
          "gradeIds" : "cg_grade_id",
          "cg_status" : "cg_status",
          "occurredOn" : "occurredOn"
      }
      entity-prefix: "cg"
      colToExplode: "gradeIds"
  }

  course-subject-mutated-transform {
        source: ["parquet-course-published-source", "parquet-course-updated-source"]
        sink: ["parquet-course-subject-transformed-sink"]
        key: "dim_course_subject_association"
        event-name: ["CoursePublishedEvent", "CourseSettingsUpdatedEvent"]
        colsMap: {
            "id" : "cs_course_id",
            "subjectIds" : "cs_subject_id",
            "cs_status" : "cs_status",
            "occurredOn" : "occurredOn"
        }
        entity-prefix: "cs"
        colToExplode: "subjectIds"
    }

    redshift-course-subject-service {
        source: "parquet-course-subject-transformed-source"
        sink: ["course-subject-redshift-sink"]
        unique-ids: ["cs_course_id"]
        inactive_status_value: 2
        is_staging_sink: true
    }

    redshift-course-grade-service {
            source: "parquet-course-grade-transformed-source"
            sink: ["course-grade-redshift-sink"]
            unique-ids: ["cg_course_id"]
            inactive_status_value: 2
            is_staging_sink: true
    }

    delta-course-subject-service {
            source: "parquet-course-subject-transformed-source"
            sink: ["course-subject-delta-sink"]
            unique-ids: ["cs_course_id"]
            match-conditions: "delta.cs_course_id = events.cs_course_id"
            inactive_status_value: 2
    }

    delta-course-grade-service {
            source: "parquet-course-grade-transformed-source"
            sink: ["course-grade-delta-sink"]
            unique-ids: ["cg_course_id"]
            match-conditions: "delta.cg_course_id = events.cg_course_id"
            inactive_status_value: 2
    }

  parquet-announcement-deleted-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-announcement-deleted"}
  parquet-announcement-deleted-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-announcement-deleted"}
  announcement-deleted-transformed-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-announcement-deleted"}
  announcement-deleted-transformed-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/transformed/alef-announcement-deleted"}
  delta-announcement-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-announcement"}
  redshift-announcement-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_announcement"}

  announcement-deleted-parquet {
    source: [
        "parquet-announcement-deleted-source"
    ]
    sink: [
        "parquet-announcement-deleted-sink"
    ]
  }

  transform-announcement-deleted {
    source: [
        "parquet-announcement-deleted-source"
    ]
    sink: [
        "announcement-deleted-transformed-sink"
    ]
  }

  delta-announcement-deleted {
    source: [
       "announcement-deleted-transformed-source"
    ]
    sink: [
       "delta-announcement-sink"
    ]
  }

  redshift-announcement-deleted {
    source: [
       "announcement-deleted-transformed-source"
    ]
    sink: [
       "redshift-announcement-sink"
    ]
  }


  parquet-teacher-announcement-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-teacher-announcement"}
  parquet-teacher-announcement-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-teacher-announcement"}
  teacher-announcement-transformed-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-teacher-announcement"}
  teacher-announcement-transformed-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/transformed/alef-teacher-announcement"}

  teacher-announcement-parquet {
    source: [
        "parquet-teacher-announcement-source"
    ]
    sink: [
        "parquet-teacher-announcement-sink"
    ]
  }

 transform-teacher-announcement {
   source: [
       "parquet-teacher-announcement-source"
   ]
   sink: [
       "teacher-announcement-transformed-sink"
   ]
 }

  delta-teacher-announcement {
    source: [
        "teacher-announcement-transformed-source"
    ]
    sink: [
         "delta-announcement-sink"
    ]
  }

  redshift-teacher-announcement {
    source: [
       "teacher-announcement-transformed-source"
    ]
    sink: [
       "redshift-announcement-sink"
    ]
  }


  parquet-principal-announcement-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-principal-announcement"}
  parquet-principal-announcement-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-principal-announcement"}
  principal-announcement-transformed-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-principal-announcement"}
  principal-announcement-transformed-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/transformed/alef-principal-announcement"}

  principal-announcement-parquet {
    source: [
        "parquet-principal-announcement-source"
    ]
    sink: [
        "parquet-principal-announcement-sink"
    ]
  }

  transform-principal-announcement {
    source: [
        "parquet-principal-announcement-source"
    ]
    sink: [
        "principal-announcement-transformed-sink"
    ]
  }

  delta-principal-announcement {
    source: [
        "principal-announcement-transformed-source"
    ]
    sink: [
         "delta-announcement-sink"
    ]
  }

  redshift-principal-announcement {
    source: [
       "principal-announcement-transformed-source"
    ]
    sink: [
       "redshift-announcement-sink"
    ]
  }


  parquet-superintendent-announcement-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-superintendent-announcement"}
  parquet-superintendent-announcement-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-superintendent-announcement"}
  superintendent-announcement-transformed-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-superintendent-announcement"}
  superintendent-announcement-transformed-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/transformed/alef-superintendent-announcement"}

  superintendent-announcement-parquet {
    source: [
        "parquet-superintendent-announcement-source"
    ]
    sink: [
        "parquet-superintendent-announcement-sink"
    ]
  }

  transform-superintendent-announcement {
    source: [
        "parquet-superintendent-announcement-source"
    ]
    sink: [
        "superintendent-announcement-transformed-sink"
    ]
  }

  delta-superintendent-announcement {
    source: [
        "superintendent-announcement-transformed-source"
    ]
    sink: [
         "delta-announcement-sink"
    ]
  }

  redshift-superintendent-announcement {
    source: [
       "superintendent-announcement-transformed-source"
    ]
    sink: [
       "redshift-announcement-sink"
    ]
  }

  parquet-published-activity-planned-in-course-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-published-activity-planned-in-course"}
  parquet-published-activity-planned-in-course-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-ccl-published-activity-planned-in-course"}

  parquet-published-activity-unplanned-in-course-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-published-activity-unplanned-in-course"}
  parquet-published-activity-unplanned-in-course-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-ccl-published-activity-unplanned-in-course"}

  parquet-published-activity-updated-in-course-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-published-activity-updated-in-course"}
  parquet-published-activity-updated-in-course-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-ccl-published-activity-updated-in-course"}

  published-activity-planned-in-course-parquet {
    source: [
        "parquet-published-activity-planned-in-course-source"
    ]
    sink: [
        "parquet-published-activity-planned-in-course-sink"
    ]
  }

  published-activity-unplanned-in-course-parquet {
    source: [
        "parquet-published-activity-unplanned-in-course-source"
    ]
    sink: [
        "parquet-published-activity-unplanned-in-course-sink"
    ]
  }

  published-activity-updated-in-course-parquet {
    source: [
        "parquet-published-activity-updated-in-course-source"
    ]
    sink: [
        "parquet-published-activity-updated-in-course-sink"
    ]
  }

  in-review-published-interim-checkpoint-created-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-in-review-interim-checkpoint-created"}
  in-review-published-interim-checkpoint-created-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-ccl-in-review-interim-checkpoint-created"}

  in-review-published-interim-checkpoint-updated-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-in-review-interim-checkpoint-updated"}
  in-review-published-interim-checkpoint-updated-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-ccl-in-review-interim-checkpoint-updated"}

  in-review-published-interim-checkpoint-deleted-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-in-review-interim-checkpoint-deleted"}
  in-review-published-interim-checkpoint-deleted-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-ccl-in-review-interim-checkpoint-deleted"}

  parquet-published-interim-checkpoint-created-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-published-interim-checkpoint-created"}
  parquet-published-interim-checkpoint-created-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-ccl-published-interim-checkpoint-created"}

  parquet-published-interim-checkpoint-updated-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-published-interim-checkpoint-updated"}
  parquet-published-interim-checkpoint-updated-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-ccl-published-interim-checkpoint-updated"}

  parquet-published-interim-checkpoint-deleted-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-published-interim-checkpoint-deleted"}
  parquet-published-interim-checkpoint-deleted-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-ccl-published-interim-checkpoint-deleted"}

  in-review-interim-checkpoint-created-parquet {
    source: [
        "in-review-published-interim-checkpoint-created-source"
    ]
    sink: [
        "in-review-published-interim-checkpoint-created-sink"
    ]
  }

  in-review-interim-checkpoint-updated-parquet {
    source: [
        "in-review-published-interim-checkpoint-updated-source"
    ]
    sink: [
        "in-review-published-interim-checkpoint-updated-sink"
    ]
  }

  in-review-interim-checkpoint-deleted-parquet {
    source: [
        "in-review-published-interim-checkpoint-deleted-source"
    ]
    sink: [
        "in-review-published-interim-checkpoint-deleted-sink"
    ]
  }

  published-interim-checkpoint-created-parquet {
    source: [
        "parquet-published-interim-checkpoint-created-source"
    ]
    sink: [
        "parquet-published-interim-checkpoint-created-sink"
    ]
  }

  published-interim-checkpoint-updated-parquet {
    source: [
        "parquet-published-interim-checkpoint-updated-source"
    ]
    sink: [
        "parquet-published-interim-checkpoint-updated-sink"
    ]
  }

  published-interim-checkpoint-deleted-parquet {
    source: [
        "parquet-published-interim-checkpoint-deleted-source"
    ]
    sink: [
        "parquet-published-interim-checkpoint-deleted-sink"
    ]
  }

    #Badge Model
    parquet-badge-updated-source = ${parquet-source} {path = ${s3.path}"/"${env}"/processing/alef-badge-updated/*"}
    transformed-badge-updated = ${parquet-source-overwrite} {path = ${s3.path}"/"${env}"/transformed/alef-badge-updated"}
    delta-badge = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-badge-updated"}
    redshift-badge = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_badge"}
    parquet-badge-updated = ${parquet-source} {path = ${s3.path}"/"${env}"/data/alef-badge-updated"}

    parquet-badge-updated-source {
      source: [
          "parquet-badge-updated-source"
      ]
      sink: [
          "parquet-badge-updated"
      ]
    }

    transformed-badge-updated {
        source: [
          "parquet-badge-updated-source"
        ]
        sink: [
          "transformed-badge-updated"
        ]
    }

    delta-badge-updated {
        source: [
            "transformed-badge-updated"
        ]
        sink: [
            "delta-badge"
        ]
    }

    redshift-badge-updated-service {
        source: [
            "transformed-badge-updated"
        ]
        sink: [
            "redshift-badge"
        ]
    }

  parquet-tutor-user-context-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-tutor-context"}
  parquet-tutor-user-context-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-tutor-context"}
  tutor-user-context-transformed-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-tutor-context"}
  delta-tutor-user-context-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-tutor-context"}
  redshift-tutor-user-context-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_tutor_user_context"}

  tutor-user-context-parquet {
      source: [
          "parquet-tutor-user-context-source"
      ]
      sink: [
          "parquet-tutor-user-context-sink"
      ]
    }

   transform-tutor-user-context {
     source: [
         "parquet-tutor-user-context-source"
     ]
     sink: [
         "tutor-user-context-transformed-sink"
     ]
   }

   delta-tutor-user-context {
     source: [
         "tutor-user-context-transformed-sink"
     ]
     sink: [
         "delta-tutor-user-context-sink"
     ]
   }

   redshift-tutor-user-context {
     source: [
         "tutor-user-context-transformed-sink"
     ]
     sink: [
         "redshift-tutor-user-context-sink"
     ]
   }

   parquet-tutor-session-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-tutor-session"}
   parquet-tutor-session-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-tutor-session"}
   tutor-session-transformed-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-tutor-session"}
   delta-tutor-session-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-tutor-session"}
   redshift-tutor-session-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_tutor_session"}

   tutor-session-parquet {
       source: [
           "parquet-tutor-session-source"
       ]
       sink: [
           "parquet-tutor-session-sink"
       ]
   }

   transform-tutor-session {
       source: [
           "parquet-tutor-session-source"
       ]
       sink: [
           "tutor-session-transformed-sink"
       ]
   }

   delta-tutor-session {
       source: [
           "tutor-session-transformed-sink"
       ]
       sink: [
           "delta-tutor-session-sink"
       ]
   }

   redshift-tutor-session {
       source: [
           "tutor-session-transformed-sink"
       ]
       sink: [
           "redshift-tutor-session-sink"
       ]
   }

    parquet-tutor-conversation-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-tutor-conversation"}
    parquet-tutor-conversation-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-tutor-conversation"}
    tutor-conversation-transformed-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-tutor-conversation"}
    tutor-conversation-transformed-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/transformed/alef-tutor-conversation"}
    delta-tutor-conversation-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-tutor-conversation"}
    redshift-tutor-conversation-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_tutor_conversation"}

    tutor-conversation-parquet {
        source: [
            "parquet-tutor-conversation-source"
        ]
        sink: [
            "parquet-tutor-conversation-sink"
        ]
      }

      transform-tutor-conversation {
        source: [
            "tutor-conversation-transformed-source"
        ]
        sink: [
            "tutor-conversation-transformed-sink"
        ]
      }

      delta-tutor-conversation {
        source: [
            "tutor-conversation-transformed-sink"
        ]
        sink: [
            "delta-tutor-conversation-sink"
        ]
      }

      redshift-tutor-conversation {
        source: [
            "tutor-conversation-transformed-sink"
        ]
        sink: [
            "redshift-tutor-conversation-sink"
        ]
      }

    parquet-tutor-suggestions-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-tutor-suggestions"}
    parquet-tutor-suggestions-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-tutor-suggestions"}
    tutor-suggestions-transformed-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-tutor-suggestions"}
    delta-tutor-suggestions-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-tutor-suggestions"}
    redshift-tutor-suggestions-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_tutor_suggestions"}

    tutor-suggestions-parquet {
        source: [
            "parquet-tutor-suggestions-source"
        ]
        sink: [
            "parquet-tutor-suggestions-sink"
        ]
      }

      transform-tutor-suggestions {
        source: [
            "parquet-tutor-suggestions-source"
        ]
        sink: [
            "tutor-suggestions-transformed-sink"
        ]
      }

      delta-tutor-suggestions {
        source: [
            "tutor-suggestions-transformed-sink"
        ]
        sink: [
            "delta-tutor-suggestions-sink"
        ]
      }

      redshift-tutor-suggestions {
        source: [
            "tutor-suggestions-transformed-sink"
        ]
        sink: [
            "redshift-tutor-suggestions-sink"
        ]
      }


    parquet-heartbeat-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-heartbeat"}
    parquet-heartbeat-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-heartbeat"}

    heartbeat-transformed-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-heartbeat"}
    delta-heartbeat-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-heartbeat"}

    heartbeat-aggregated-transformed-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-heartbeat-aggregated"}
    delta-aggregated-heartbeat-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-heartbeat-aggregated"}
    redshift-aggregated-heartbeat-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_user_heartbeat_hourly_aggregated"}

      heartbeat-parquet {
        source: [
            "parquet-heartbeat-source"
        ]
        sink: [
            "parquet-heartbeat-sink"
        ]
      }

      transform-heartbeat {
        source: [
            "parquet-heartbeat-source"
        ]
        sink: [
            "heartbeat-transformed-sink"
        ]
      }

      transform-heartbeat-aggregated {
        source: [
          "delta-aggregated-heartbeat-sink",
          "delta-heartbeat-sink",
          "redshift-student-dim",
          "redshift-school-dim",
          "redshift-dw-id-mapping-source",
          "redshift-teacher-dim"
        ]
        sink: [
          "heartbeat-aggregated-transformed-sink"
        ]
      }

      delta-heartbeat {
        source: [
            "heartbeat-transformed-sink"
        ]
        sink: [
            "delta-heartbeat-sink"
        ]
      }

      delta-heartbeat-aggregated {
        source: [
          "heartbeat-aggregated-transformed-sink"
        ]
        sink: [
          "delta-aggregated-heartbeat-sink"
        ]
      }

      redshift-heartbeat-aggregated {
        source: [
          "heartbeat-aggregated-transformed-sink"
        ]
        sink: [
          "redshift-aggregated-heartbeat-sink"
        ]
      }

    parquet-pathway-leaderboard-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-pathway-leaderboard-updated"}
    parquet-pathway-leaderboard-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-pathway-leaderboard-updated"}
    pathway-leaderboard-transformed-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-pathway-leaderboard-updated"}
    pathway-leaderboard-transformed-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/transformed/alef-pathway-leaderboard-updated"}
    delta-pathway-leaderboard-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-pathway-leaderboard"}
    redshift-pathway-leaderboard-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_pathway_leaderboard"}

    pathway-leaderboard-parquet {
        source: [
            "parquet-pathway-leaderboard-source"
        ]
        sink: [
            "parquet-pathway-leaderboard-sink"
        ]
    }

    transform-pathway-leaderboard {
        source: [
            "parquet-pathway-leaderboard-source"
        ]
        sink: [
            "pathway-leaderboard-transformed-sink"
        ]
    }

    redshift-pathway-leaderboard {
        source: [
            "pathway-leaderboard-transformed-source"
        ]
        sink: [
            "redshift-pathway-leaderboard-sink"
        ]
    }

    delta-pathway-leaderboard {
        source: [
            "pathway-leaderboard-transformed-source"
        ]
        sink: [
            "delta-pathway-leaderboard-sink"
        ]
    }

    service-desk-request-collector-sink = ${json-source-overwrite} {"path": ${s3.path}"/"${env}"/processing/alef-service-desk-request-created"}
    service-desk-request-collector-source = ${service-desk-request-collector-sink}
    service-desk-request-transformed-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-service-desk-request-created"}
    service-desk-request-transformed-source = ${service-desk-request-transformed-sink}
    service-desk-request-parquet-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-service-desk-request-created"}
    delta-service-desk-request-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-service-desk-request"}
    redshift-service-desk-request-sink = ${redshift} {"dbtable": ${redshift-schema}".fact_service_desk_request"}

    service-desk-collector {
        sink: [
            "service-desk-request-collector-sink"
        ]
    }

    service-desk-request-parquet {
        source: [
            "service-desk-request-collector-source"
        ],
        sink: [
            "service-desk-request-parquet-sink"
        ]
    }

    transform-service-desk-request {
        source: [
            "service-desk-request-collector-source"
        ],
        sink: [
            "service-desk-request-transformed-sink"
        ]
    }

    redshift-service-desk-request {
        source: [
            "service-desk-request-transformed-source"
        ]
        sink: [
            "redshift-service-desk-request-sink"
        ]
    }

    delta-service-desk-request {
        source: [
            "service-desk-request-transformed-source"
        ]
        sink: [
            "delta-service-desk-request-sink"
        ]
    }

    jira-issue-collector-offset =  ${json-source-overwrite} {"path": ${s3.path}"/"${env}"/checkpoint/alef-jira-issue-created/offsets"}
    jira-issue-collector-sink =  ${json-source-overwrite} {"path": ${s3.path}"/"${env}"/processing/alef-jira-issue-created"}

    jira-issue-collector-source =  ${json-source} {"path": ${s3.path}"/"${env}"/processing/alef-jira-issue-created"}
    jira-issue-transformed-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-jira-issue-created"}
    jira-issue-parquet-sink =  ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-jira-issue-created"}
    jira-issue-delta-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-jira-issue"}
    jira-issue-redshift-sink = ${redshift} {"dbtable": ${redshift-schema}".fact_jira_issue"}

    jira-issue-collector-service {
         sink: [
             "jira-issue-collector-sink",
             "jira-issue-collector-offset"
         ]
    }

     jira-issue-parquet {
            source: [
                "jira-issue-collector-source"
            ],
            sink: [
                "jira-issue-parquet-sink"
            ]
     }

    transform-jira-issue-service {
        source: [
            "jira-issue-collector-source"
        ],
        sink: [
            "jira-issue-transformed-sink"
        ]
    }

    redshift-jira-issue {
        source: [
            "jira-issue-transformed-sink"
        ]
        sink: [
            "jira-issue-redshift-sink"
        ]
    }

    delta-jira-issue {
        source: [
            "jira-issue-transformed-sink"
        ]
        sink: [
            "jira-issue-delta-sink"
        ]
    }

  parquet-certificate-awarded-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-certificate-awarded"}
  parquet-certificate-awarded-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-certificate-awarded"}
  transformed-certificate-awarded-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-certificate-awarded"}
  delta-certificate-awarded-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-certificate-awarded"}
  redshift-certificate-awarded-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_student_certificate_awarded"}

  certificate-awarded-parquet {
    source: [
      "parquet-certificate-awarded-source"
    ]
    sink: [
      "parquet-certificate-awarded-sink"
    ]
  }

  transform-certificate-awarded {
    source: [
      "parquet-certificate-awarded-source"
    ]
    sink: [
      "transformed-certificate-awarded-sink"
    ]
  }

  redshift-certificate-awarded {
    source: [
      "transformed-certificate-awarded-sink"
    ]
    sink: [
      "redshift-certificate-awarded-sink"
    ]
  }

  delta-certificate-awarded {
    source: [
      "transformed-certificate-awarded-sink"
    ]
    sink: [
      "delta-certificate-awarded-sink"
    ]
  }


    parquet-guardian-joint-activity-pending-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-guardian-joint-activity-pending"}
    parquet-guardian-joint-activity-pending-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-guardian-joint-activity-pending"}
    parquet-guardian-joint-activity-started-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-guardian-joint-activity-started"}
    parquet-guardian-joint-activity-started-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-guardian-joint-activity-started"}
    parquet-guardian-joint-activity-completed-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-guardian-joint-activity-completed"}
    parquet-guardian-joint-activity-completed-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-guardian-joint-activity-completed"}
    parquet-guardian-joint-activity-rated-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-guardian-joint-activity-rated"}
    parquet-guardian-joint-activity-rated-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-guardian-joint-activity-rated"}
    transformed-guardian-joint-activity-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/guardian-joint-activity"}
    delta-guardian-joint-activity-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-guardian-joint-activity"}
    redshift-guardian-joint-activity-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_guardian_joint_activity"}

    guardian-joint-activity-pending-parquet {
      source: [
        "parquet-guardian-joint-activity-pending-source",
      ]
      sink: [
        "parquet-guardian-joint-activity-pending-sink"
      ]
    }

    guardian-joint-activity-started-parquet {
      source: [
        "parquet-guardian-joint-activity-started-source",
      ]
      sink: [
        "parquet-guardian-joint-activity-started-sink"
      ]
    }

    guardian-joint-activity-completed-parquet {
      source: [
        "parquet-guardian-joint-activity-completed-source",
      ]
      sink: [
        "parquet-guardian-joint-activity-completed-sink"
      ]
    }

    guardian-joint-activity-rated-parquet {
      source: [
        "parquet-guardian-joint-activity-rated-source",
      ]
      sink: [
        "parquet-guardian-joint-activity-rated-sink"
      ]
    }

    transform-guardian-joint-activity {
      source: [
        "parquet-guardian-joint-activity-pending-source",
        "parquet-guardian-joint-activity-started-source",
        "parquet-guardian-joint-activity-completed-source",
        "parquet-guardian-joint-activity-rated-source"
      ]
      sink: [
        "transformed-guardian-joint-activity-sink"
      ]
    }

    redshift-guardian-joint-activity {
      source: [
        "transformed-guardian-joint-activity-sink"
      ]
      sink: [
        "redshift-guardian-joint-activity-sink"
      ]
    }

    delta-guardian-joint-activity {
      source: [
        "transformed-guardian-joint-activity-sink"
      ]
      sink: [
        "delta-guardian-joint-activity-sink"
      ]
    }

    parquet-learning-placement-completed-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-learning-placement-completed"}

    parquet-learning-placement-completed-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-learning-placement-completed"}

    transformed-student-pathway-placement-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-pathway-placement"}

    redshift-student-pathway-placement-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_pathway_placement"}
    delta-student-pathway-placement-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-pathway-placement"}


    transform-pathway-placement {
        source: [
            "parquet-learning-placement-completed-source",
        ]
        sink: [
            "transformed-student-pathway-placement-sink"
        ]
    }

    redshift-pathway-placement {
        source: [
                    "transformed-student-pathway-placement-sink",
                ]
                sink: [
                    "redshift-student-pathway-placement-sink"
                ]
    }

    delta-pathway-placement {
         source: [
                        "transformed-student-pathway-placement-sink",
                    ]
                    sink: [
                        "delta-student-pathway-placement-sink"
                    ]
    }

  parquet-learning-placement-completed {
    source: [
      "parquet-learning-placement-completed-source"
    ]
    sink: [
      "parquet-learning-placement-completed-sink"
    ]
  }

   parquet-grade-mutated-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-school-gradeMutated"}
   parquet-grade-deleted-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-school-gradeDeleted"}

   transformed-grade-created = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-school-gradeCreated"}
   transformed-grade-updated = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-school-gradeUpdated"}
   transformed-grade-deleted = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-school-gradeDeleted"}

   redshift-grade-dim = ${redshift} {"dbtable": ${redshift-schema}".dim_grade"}

   delta-grade-sink = ${delta-sink} {"path": ${s3.delta.path}"/"${env}"/alef-grade"}

   data-grade-mutated = ${parquet-source} {path = ${s3.path}"/"${env}"/data/alef-school-gradeMutated"}
   data-grade-deleted = ${parquet-source} {path = ${s3.path}"/"${env}"/data/alef-school-gradeDeleted"}

   data-grade-mutated-service {
     source: [
       "parquet-grade-mutated-source"
     ]
     sink: [
       "data-grade-mutated"
     ]
   }

   data-grade-deleted-service {
     source: [
       "parquet-grade-deleted-source"
     ]
     sink: [
       "data-grade-deleted"
     ]
   }

   transform-grade-created-service {
     source: [
       "parquet-grade-mutated-source"
     ]
     sink: [
       "transformed-grade-created"
     ]
   }

  transform-grade-updated-service {
    source: [
      "parquet-grade-mutated-source"
    ]
    sink: [
      "transformed-grade-updated"
    ]
  }

   transform-grade-deleted-service {
     source: [
       "parquet-grade-deleted-source"
     ]
     sink: [
       "transformed-grade-deleted"
     ]
   }

   delta-grade-service {
     source: [
       "transformed-grade-created",
       "transformed-grade-updated",
       "transformed-grade-deleted"
     ]
     sink: [
       "delta-grade-sink"
     ]
   }

   redshift-grade-service {
     source: [
       "transformed-grade-created",
       "transformed-grade-updated",
       "transformed-grade-deleted"
     ]
     sink: [
       "redshift-grade-dim"
     ]
   }

  #-------Course Container Activity Association-------
  # In Review
  parquet-in-review-activity-planned-in-courses-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-in-review-activity-planned-in-courses"}
  parquet-in-review-activity-planned-in-courses-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-ccl-in-review-activity-planned-in-courses"}

  parquet-in-review-activity-unplanned-in-courses-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-in-review-activity-unplanned-in-courses"}
  parquet-in-review-activity-unplanned-in-courses-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-ccl-in-review-activity-unplanned-in-courses"}

  parquet-in-review-activity-updated-in-courses-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-in-review-activity-updated-in-courses"}
  parquet-in-review-activity-updated-in-courses-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-ccl-in-review-activity-updated-in-courses"}

  parquet-in-review-interim-checkpoint-in-courses-created-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-in-review-interim-checkpoint-in-courses-created"}
  parquet-in-review-interim-checkpoint-in-courses-created-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-ccl-in-review-interim-checkpoint-in-courses-created"}

  parquet-in-review-activity-planned-in-courses {
    source: [
      "parquet-in-review-activity-planned-in-courses-source"
    ]
    sink: [
      "parquet-in-review-activity-planned-in-courses-sink"
    ]
  }

  parquet-in-review-activity-unplanned-in-courses {
    source: [
      "parquet-in-review-activity-unplanned-in-courses-source"
    ]
    sink: [
      "parquet-in-review-activity-unplanned-in-courses-sink"
    ]
  }

  parquet-in-review-activity-updated-in-courses {
    source: [
      "parquet-in-review-activity-updated-in-courses-source"
    ]
    sink: [
      "parquet-in-review-activity-updated-in-courses-sink"
    ]
  }

  parquet-in-review-interim-checkpoint-in-courses-created {
    source: [
      "parquet-in-review-interim-checkpoint-in-courses-created-source"
    ]
    sink: [
      "parquet-in-review-interim-checkpoint-in-courses-created-sink"
    ]
  }


  # Published
  parquet-published-activity-planned-in-courses-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-published-activity-planned-in-courses"}
  parquet-published-activity-planned-in-courses-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-ccl-published-activity-planned-in-courses"}

  parquet-published-activity-unplanned-in-courses-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-published-activity-unplanned-in-courses"}
  parquet-published-activity-unplanned-in-courses-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-ccl-published-activity-unplanned-in-courses"}

  parquet-published-activity-updated-in-courses-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-published-activity-updated-in-courses"}
  parquet-published-activity-updated-in-courses-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-ccl-published-activity-updated-in-courses"}

  parquet-published-interim-checkpoint-in-courses-created-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-published-interim-checkpoint-in-courses-created"}
  parquet-published-interim-checkpoint-in-courses-created-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-ccl-published-interim-checkpoint-in-courses-created"}

  parquet-published-interim-checkpoint-in-courses-updated-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-published-interim-checkpoint-in-courses-updated"}
  parquet-published-interim-checkpoint-in-courses-updated-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-ccl-published-interim-checkpoint-in-courses-updated"}

  parquet-published-interim-checkpoint-in-courses-deleted-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-ccl-published-interim-checkpoint-in-courses-deleted"}
  parquet-published-interim-checkpoint-in-courses-deleted-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-ccl-published-interim-checkpoint-in-courses-deleted"}

  parquet-published-activity-planned-in-courses {
    source: [
      "parquet-published-activity-planned-in-courses-source"
    ]
    sink: [
      "parquet-published-activity-planned-in-courses-sink"
    ]
  }

  parquet-published-activity-unplanned-in-courses {
    source: [
      "parquet-published-activity-unplanned-in-courses-source"
    ]
    sink: [
      "parquet-published-activity-unplanned-in-courses-sink"
    ]
  }

  parquet-published-activity-updated-in-courses {
    source: [
      "parquet-published-activity-updated-in-courses-source"
    ]
    sink: [
      "parquet-published-activity-updated-in-courses-sink"
    ]
  }

  parquet-published-interim-checkpoint-in-courses-created {
    source: [
      "parquet-published-interim-checkpoint-in-courses-created-source"
    ]
    sink: [
      "parquet-published-interim-checkpoint-in-courses-created-sink"
    ]
  }

  parquet-published-interim-checkpoint-in-courses-updated {
    source: [
      "parquet-published-interim-checkpoint-in-courses-updated-source"
    ]
    sink: [
      "parquet-published-interim-checkpoint-in-courses-updated-sink"
    ]
  }

  parquet-published-interim-checkpoint-in-courses-deleted {
    source: [
      "parquet-published-interim-checkpoint-in-courses-deleted-source"
    ]
    sink: [
      "parquet-published-interim-checkpoint-in-courses-deleted-sink"
    ]
  }


  # Transform
  transformed-course-activity-association-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-course-activity-association"}
  transformed-course-activity-outcome-association-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-course-activity-outcome-association"}
  transformed-course-activity-grade-association-sink = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-course-activity-grade-association"}

  redshift-course-activity-association-rel = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_course_activity_association"}
  redshift-course-activity-outcome-association-rel = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_course_activity_outcome_association"}
  redshift-course-activity-grade-association-rel = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_course_activity_grade_association"}
  delta-course-activity-association-dim =  ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-ccl-course-activity-association"}
  delta-course-activity-outcome-association-dim =  ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-ccl-course-activity-outcome-association"}
  delta-course-activity-grade-association-dim =  ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-ccl-course-activity-grade-association"}

  transform-course-activity-association {
    source: [
      "parquet-published-activity-planned-in-courses-source",
      "parquet-published-activity-unplanned-in-courses-source",
      "parquet-published-activity-updated-in-courses-source",
      "parquet-published-interim-checkpoint-in-courses-created-source",
      "parquet-published-interim-checkpoint-in-courses-updated-source",
      "parquet-published-interim-checkpoint-in-courses-deleted-source"
    ]
    sink: [
      "transformed-course-activity-association-sink"
    ]
  }

  transform-course-activity-outcome-association {
   planned-source: "parquet-published-activity-planned-in-courses-source"
   updated-source: "parquet-published-activity-updated-in-courses-source"
    sink: [
      "transformed-course-activity-outcome-association-sink"
    ]
    activity-field: "activityId.uuid"
    activity-id-field: "uuid"
    attach-events: ["ActivityPlannedInCourseEvent", "ActivityUpdatedInCourseEvent"]
    key: "dim_course_activity_outcome_association"
    entity: "caoa"
    associationCols: {
            "courseId" : "caoa_course_id",
            "caoa_activity_id" : "caoa_activity_id",
            "type" : "caoa_outcome_type",
             "id" : "caoa_outcome_id",
             "curriculumId" : "caoa_curr_id",
             "gradeId" : "caoa_curr_grade_id",
             "subjectId" : "caoa_curr_subject_id",
             "caoa_status" : "caoa_status",
             "occurredOn" : "occurredOn"
    }
    selectedColList: [ "courseId",
                          "caoa_activity_id",
                          "type",
                          "id",
                          "curriculumId",
                          "gradeId",
                          "subjectId",
                          "occurredOn",
                          "eventType"]
  }

  transform-course-activity-grade-association {
    planned-source: "parquet-published-activity-planned-in-courses-source"
    updated-source: "parquet-published-activity-updated-in-courses-source"
    sink: [
      "transformed-course-activity-grade-association-sink"
    ],
    activity-field: "activityId.uuid"
    activity-id-field: "uuid"
    attach-events: ["ActivityPlannedInCourseEvent", "ActivityUpdatedInCourseEvent"]
    key: "dim_course_activity_grade_association"
    entity: "caga"
    associationCols: {
        "courseId" : "caga_course_id",
        "caga_activity_id" : "caga_activity_id",
        "caga_status" : "caga_status",
        "occurredOn" : "occurredOn",
        "grade" : "caga_grade_id"
    }
    selectedColList: ["courseId",
                          "caga_activity_id",
                          "occurredOn",
                          "grade",
                          "eventType"]
  }

  redshift-course-activity-association {
    source: [
      "transformed-course-activity-association-sink"
    ]
    sink: [
      "redshift-course-activity-association-rel"
    ]
  }

  redshift-course-activity-outcome-association {
    source: "transformed-course-activity-outcome-association-sink"
    sink: ["redshift-course-activity-outcome-association-rel"]
    unique-ids: ["caoa_activity_id", "caoa_course_id"]
    inactive_status_value: 2
    is_staging_sink: true
  }

  redshift-course-activity-grade-association {
    source: "transformed-course-activity-grade-association-sink"
    sink: ["redshift-course-activity-grade-association-rel"]
    unique-ids: ["caga_activity_id", "caga_course_id"]
    inactive_status_value: 2
    is_staging_sink: true
  }

  delta-course-activity-association {
    source: "transformed-course-activity-association-sink"
    sink: ["delta-course-activity-association-dim"]
    unique-ids: ["caa_activity_id", "caa_course_id"]
    match-conditions: "delta.caa_activity_id = events.caa_activity_id AND delta.caa_course_id = events.caa_course_id"
    inactive_status_value: 2
  }

  delta-course-activity-outcome-association {
    source: "transformed-course-activity-outcome-association-sink"
    sink: ["delta-course-activity-outcome-association-dim"]
    unique-ids: ["caoa_activity_id", "caoa_course_id"]
    match-conditions: "delta.caoa_activity_id = events.caoa_activity_id AND delta.caoa_course_id = events.caoa_course_id"
    inactive_status_value: 2
  }

  delta-course-activity-grade-association {
    source: "transformed-course-activity-grade-association-sink"
    sink: ["delta-course-activity-grade-association-dim"]
    unique-ids: ["caga_activity_id", "caga_course_id"]
    match-conditions: "delta.caga_activity_id = events.caga_activity_id AND delta.caga_course_id = events.caga_course_id"
    inactive_status_value: 2
  }
  #-------Course Container Activity Association-------
  parquet-pathway-teacher-activity-assigned-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-learning-teacher-activities-assigned"}
  parquet-pathway-teacher-activity-assigned-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-learning-teacher-activities-assigned"}
  parquet-pathway-teacher-activity-unassigned-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-learning-teacher-activity-unassigned"}
  parquet-pathway-teacher-activity-unassigned-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-learning-teacher-activity-unassigned"}
  parquet-pathway-teacher-additional-resource-activity-assigned-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-learning-additional-resources-assigned-for-pathways"}
  parquet-pathway-teacher-additional-resource-activity-unassigned-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/alef-learning-additional-resources-unassigned-for-pathways"}
  parquet-pathway-teacher-additional-resource-activity-assigned-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-learning-additional-resources-assigned-for-pathways"}
  parquet-pathway-teacher-additional-resource-activity-unassigned-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/alef-learning-additional-resources-unassigned-for-pathways"}

  transformed-pathway-teacher-activity = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/alef-pathway-teacher-activities"}

  delta-pathway-teacher-activity = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-pathway-teacher-activities"}
  redshift-pathway-teacher-activity = ${redshift} {"dbtable": ${redshift-staging-schema}".staging_pathway_teacher_activity"}

  parquet-pathway-teacher-activity-assigned {
    source: [
      "parquet-pathway-teacher-activity-assigned-source"
    ]
    sink: [
      "parquet-pathway-teacher-activity-assigned-sink"
    ]
  }
  parquet-pathway-teacher-activity-unassigned {
    source: [
      "parquet-pathway-teacher-activity-unassigned-source"
    ]
    sink: [
      "parquet-pathway-teacher-activity-unassigned-sink"
    ]
  }

  parquet-pathway-teacher-additional-resource-activity-assigned {
      source: [
        "parquet-pathway-teacher-additional-resource-activity-assigned-source"
      ]
      sink: [
        "parquet-pathway-teacher-additional-resource-activity-assigned-sink"
      ]
    }
    parquet-pathway-teacher-additional-resource-activity-unassigned {
      source: [
        "parquet-pathway-teacher-additional-resource-activity-unassigned-source"
      ]
      sink: [
        "parquet-pathway-teacher-additional-resource-activity-unassigned-sink"
      ]
    }

  pathway-teacher-activity-transform {
     assigned-source: "parquet-pathway-teacher-activity-assigned-source"
     unassigned-source: "parquet-pathway-teacher-activity-unassigned-source"
     additional-resource-assigned-source: "parquet-pathway-teacher-additional-resource-activity-assigned-source"
     additional-resource-unassigned-source: "parquet-pathway-teacher-additional-resource-activity-unassigned-source"
     sink: [
         "transformed-pathway-teacher-activity"
     ]
  }

  delta-pathway-teacher-activity {
    source: [
      "transformed-pathway-teacher-activity"
    ]
    sink: [
      "delta-pathway-teacher-activity"
    ]
  }

  redshift-pathway-teacher-activity {
    source: [
      "transformed-pathway-teacher-activity"
    ]
    sink: [
      "redshift-pathway-teacher-activity"
    ]
  }
  #------ dim_pacing_guide -------

    parquet-pacing-guide-created-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/authoring-course-pacing-guide-created"}
    parquet-pacing-guide-created-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/authoring-course-pacing-guide-created"}
    parquet-pacing-guide-updated-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/authoring-course-pacing-guide-updated"}
    parquet-pacing-guide-updated-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/authoring-course-pacing-guide-updated"}
    parquet-pacing-guide-deleted-source = ${parquet-source} {"path": ${s3.path}"/"${env}"/processing/authoring-course-pacing-guide-deleted"}
    parquet-pacing-guide-deleted-sink = ${parquet-source} {"path": ${s3.path}"/"${env}"/data/authoring-course-pacing-guide-deleted"}
    parquet-pacing-guide-mutated-transformed-source = ${parquet-source-overwrite} {"path": ${s3.path}"/"${env}"/transformed/pacing-guide-mutated-transformed"}
    pacing-guide-redshift-sink = ${redshift} {"dbtable": ${redshift-staging-schema}".rel_pacing_guide"}
    pacing-guide-delta-sink = ${delta-sink} {"path" = ${s3.delta.path}"/"${env}"/alef-pacing-guide"}

      pacing-guide-mutated-transform {
          source : [
              "parquet-pacing-guide-created-source",
              "parquet-pacing-guide-updated-source",
              "parquet-pacing-guide-deleted-source"
          ]
          sink: [
                "parquet-pacing-guide-mutated-transformed-source"
          ]
      }

      parquet-pacing-guide-created {
                source : [
                    "parquet-pacing-guide-created-source",
                ]
                sink: [
                      "parquet-pacing-guide-created-sink"
                ]
      }

      parquet-pacing-guide-updated {
                      source : [
                          "parquet-pacing-guide-updated-source",
                      ]
                      sink: [
                            "parquet-pacing-guide-updated-sink"
                      ]
      }

      parquet-pacing-guide-deleted {
                      source : [
                          "parquet-pacing-guide-deleted-source",
                      ]
                      sink: [
                            "parquet-pacing-guide-deleted-sink"
                      ]
      }

      redshift-pacing-guide-service {
              source: "parquet-pacing-guide-mutated-transformed-source"
              sink: ["pacing-guide-redshift-sink"]
              unique-ids: ["pacing_id"]
              inactive_status_value: 2
              is_staging_sink: true
      }

      delta-pacing-guide-service {
              source: "parquet-pacing-guide-mutated-transformed-source"
              sink: ["pacing-guide-delta-sink"]
              unique-ids: ["pacing_id"]
              match-conditions: "delta.pacing_id = events.pacing_id"
              inactive_status_value: 2
      }

  include "job_configs/dimensions/adt_attempt_threshold_settings.conf"
  include "job_configs/dimensions/content_repository.conf"
  include "job_configs/dimensions/course_ability_test_association.conf"
  include "job_configs/dimensions/school.conf"
  include "job_configs/dimensions/staff_user.conf"
  include "job_configs/dimensions/staff_user_v2.conf"
  include "job_configs/dimensions/role.conf"
  include "job_configs/dimensions/course_additional_resource_activity.conf"
  include "job_configs/dimensions/dim_admin_avatar_settings.conf"
  include "job_configs/dimensions/dim_avatar_layer.conf"
  include "job_configs/dimensions/pathway_target_v2.conf"
  include "job_configs/dimensions/dim_admin_avatar_v2.conf"
  include "job_configs/dimensions/marketplace_config.conf"
  include "job_configs/dimensions/pathway_target.conf"
  include "job_configs/dimensions/teacher_test_blueprint.conf"
  include "job_configs/dimensions/teacher_test.conf"
  include "job_configs/dimensions/teacher_test_delivery.conf"
  include "job_configs/dimensions/core_activity_assign.conf"
  include "job_configs/dimensions/assessment_testpart_section.conf"
  include "job_configs/dimensions/assessment_testpart.conf"
  include "job_configs/dimensions/assessment_test.conf"

  include "job_configs/facts/activity_settings.conf"
  include "job_configs/facts/activity_settings_v2.conf"
  include "job_configs/facts/marketplace_purchase.conf"
  include "job_configs/facts/marketplace_transaction.conf"
  include "job_configs/facts/ebook_progress.conf"
  include "job_configs/facts/pathway_target_progress.conf"
  include "job_configs/facts/pathway_learning_session.conf"
  include "job_configs/facts/pathway_learning_experience.conf"
  include "job_configs/facts/tutor_challenge_question_answer.conf"
  include "job_configs/facts/tutor_onboarding.conf"
  include "job_configs/facts/tutor_analogous.conf"
  include "job_configs/facts/tutor_simplification.conf"
  include "job_configs/facts/tutor_translation.conf"
  include "job_configs/facts/alef_challenge_game_progress.conf"
  include "job_configs/facts/teacher_test_candidate_progress.conf"
  include "job_configs/facts/marketplace_purchase_v2.conf"
  include "job_configs/facts/teacher_action_center.conf"
  include "job_configs/facts/student_queries.conf"
  include "job_configs/facts/badge_awarded.conf"
  include "job_configs/facts/assessment_candidate_progress.conf"
  include "job_configs/facts/assessment_candidate_lock_action.conf"
  include "job_configs/facts/assessment_candidate_answer_submit.conf"
  include "job_configs/facts/weekly_goal_activity.conf"
  include "job_configs/facts/user_avatar.conf"
  include "job_configs/facts/skill_gap_tracker.conf"
  include "job_configs/facts/student_proficienct_tracker.conf"
  include "job_configs/facts/adaptive_practice.conf"
